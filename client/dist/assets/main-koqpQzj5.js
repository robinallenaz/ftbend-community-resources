var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,n=(t,a,s)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s,i=(e,t)=>{for(var a in t||(t={}))l.call(t,a)&&n(e,a,t[a]);if(s)for(var a of s(t))r.call(t,a)&&n(e,a,t[a]);return e},o=(e,s)=>t(e,a(s)),d=(e,t,a)=>new Promise((s,l)=>{var r=e=>{try{i(a.next(e))}catch(t){l(t)}},n=e=>{try{i(a.throw(e))}catch(t){l(t)}},i=e=>e.done?s(e.value):Promise.resolve(e.value).then(r,n);i((a=a.apply(e,t)).next())});import{u as c,j as u,a as x,m as h,A as p}from"./marked.esm-XhJKQJCr.js";import{a as m,r as b,b as g}from"./vendor-DD48japz.js";import{u as v,O as f,N as j,a as y,b as C,L as N,c as w,R as B,d as k,B as S}from"./router-Bvx3HBkG.js";var A={},L=m;function T({to:e,label:t}){return u.jsx(j,{to:e,className:({isActive:e})=>["rounded-xl px-3 py-2 text-base font-semibold transition","hover:bg-pitchBlack/70 hover:text-vanillaCustard",e?"bg-pitchBlack text-vanillaCustard shadow-soft":"text-vanillaCustard/95"].join(" "),children:t})}function F(){const e=v(),{user:t,logout:a}=c();return u.jsxs("div",{className:"min-h-dvh",children:[u.jsx("header",{className:"sticky top-0 z-40 border-b border-vanillaCustard/15 bg-graphite/85 backdrop-blur",children:u.jsxs("div",{className:"mx-auto flex w-full max-w-6xl items-center justify-between gap-3 px-4 py-3 md:px-6",children:[u.jsxs("button",{type:"button",onClick:()=>e("/"),className:"flex items-center gap-3 rounded-xl px-2 py-2 text-left hover:bg-pitchBlack/60","aria-label":"Go to public site",children:[u.jsx("div",{className:"text-base font-extrabold leading-tight text-vanillaCustard",children:"Admin Dashboard"}),u.jsx("div",{className:"text-sm text-vanillaCustard/80 hidden sm:block",children:null==t?void 0:t.email})]}),u.jsxs("nav",{"aria-label":"Admin",className:"flex flex-wrap items-center gap-1",children:[u.jsx(T,{to:"/admin",label:"Overview"}),u.jsx(T,{to:"/admin/resources",label:"Resources"}),u.jsx(T,{to:"/admin/events",label:"Events"}),u.jsx(T,{to:"/admin/gallery",label:"Gallery"}),u.jsx(T,{to:"/admin/submissions",label:"Submissions"}),u.jsx(T,{to:"/admin/newsletter",label:"Newsletter"})]}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsx("button",{type:"button",className:"rounded-xl bg-powderBlush px-3 py-2 text-base font-bold text-pitchBlack shadow-soft transition hover:brightness-95",onClick:()=>d(this,null,function*(){yield a(),e("/admin/login")}),children:"Log out"})})]})}),u.jsx("main",{id:"main",className:"mx-auto w-full max-w-6xl px-4 pb-16 pt-6 md:px-6",children:u.jsx(f,{})})]})}function E(){const{loading:e,user:t}=c(),a=y();if(e)return u.jsx("div",{className:"rounded-2xl border border-vanillaCustard/15 bg-pitchBlack p-6",children:u.jsx("div",{className:"text-base font-semibold text-vanillaCustard",children:"Loadingâ€¦"})});if(!t){const e=encodeURIComponent(a.pathname+a.search);return u.jsx(C,{to:`/admin/login?next=${e}`,replace:!0})}return u.jsx(f,{})}function I(){const[e,t]=b.useState(""),[a,s]=b.useState("idle"),[l,r]=b.useState("");return u.jsxs("div",{className:"rounded-2xl border border-vanillaCustard/15 bg-pitchBlack p-6 shadow-soft",children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("h3",{className:"text-lg font-extrabold text-vanillaCustard",children:"Stay in the loop"}),u.jsx("p",{className:"text-sm text-vanillaCustard/85",children:"Get updates on new resources, events, and community news for the LGBTQIA+ Community in Fort Bend and Surrounding Counties."})]}),u.jsxs("form",{onSubmit:function(a){return d(this,null,function*(){a.preventDefault(),s("submitting"),r("");try{const a=yield fetch("/api/public/newsletter/subscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}),l=yield a.json();if(!a.ok)throw new Error(l.message||"Failed");s("success"),r("You're subscribed!"),t("")}catch(l){s("error"),r((null==l?void 0:l.message)||"Something went wrong.")}})},className:"flex flex-col gap-3 sm:flex-row sm:items-end",noValidate:!0,children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{htmlFor:"newsletter-email",className:"sr-only",children:"Email address for newsletter"}),u.jsx("input",{id:"newsletter-email",type:"email",required:!0,value:e,onChange:e=>t(e.target.value),placeholder:"you@example.com","aria-describedby":"newsletter-status","aria-invalid":"error"===a,className:"w-full rounded-xl border border-vanillaCustard/20 bg-graphite px-3 py-2 text-base font-semibold text-vanillaCustard placeholder:text-vanillaCustard/50 focus:outline-none focus:ring-2 focus:ring-paleAmber focus:ring-offset-2 focus:ring-offset-pitchBlack"})]}),u.jsx("button",{type:"submit",disabled:"submitting"===a,className:"rounded-xl bg-powderBlush px-4 py-2 text-base font-extrabold text-pitchBlack shadow-soft transition hover:brightness-95 disabled:opacity-60 focus:outline-none focus:ring-2 focus:ring-paleAmber focus:ring-offset-2 focus:ring-offset-pitchBlack",children:"submitting"===a?"Subscribingâ€¦":"Subscribe"})]}),l&&u.jsx("div",{id:"newsletter-status",className:"mt-3 rounded-xl p-3 text-sm focus:outline-none focus:ring-2 focus:ring-paleAmber focus:ring-offset-2 focus:ring-offset-pitchBlack bg-graphite/70 text-vanillaCustard",role:"alert","aria-live":"polite",children:l})]})}function R(){return u.jsx("footer",{className:"border-t border-vanillaCustard/15 bg-graphite",children:u.jsxs("div",{className:"mx-auto w-full max-w-6xl px-4 py-10 text-base text-vanillaCustard/85 md:px-6",children:[u.jsxs("div",{className:"grid gap-8 lg:grid-cols-3",children:[u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"text-lg font-extrabold text-vanillaCustard",children:"There is no community without unity ðŸ³ï¸â€âš§ï¸ðŸ³ï¸â€ðŸŒˆ"}),u.jsx("div",{children:"We host monthly events in Fort Bend County and share resources across South Texas."})]}),u.jsx("div",{className:"space-y-2 md:text-left",children:u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"text-lg font-extrabold text-vanillaCustard",children:"Connect With Us"}),u.jsxs("div",{className:"flex flex-wrap gap-4",children:[u.jsx("a",{href:"https://instagram.com/ftbend_lgbtqia",target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-xl border border-vanillaCustard/15 bg-graphite/60 px-4 py-3 text-base font-semibold text-vanillaCustard hover:border-vanillaCustard/35 focus-within:ring-2 focus-within:ring-paleAmber focus-within:ring-offset-2 focus-within:ring-offset-pitchBlack transition min-h-[48px] min-w-[48px]",children:"Instagram"}),u.jsx("a",{href:"https://www.facebook.com/share/16a6rc4XjY/?mibextid=wwXIfr",target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-xl border border-vanillaCustard/15 bg-graphite/60 px-4 py-3 text-base font-semibold text-vanillaCustard hover:border-vanillaCustard/35 focus-within:ring-2 focus-within:ring-paleAmber focus-within:ring-offset-2 focus-within:ring-offset-pitchBlack transition min-h-[48px] min-w-[48px]",children:"Facebook"})]})]})})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"text-lg font-extrabold text-vanillaCustard",children:"Quick Links"}),u.jsxs("ul",{className:"space-y-2",children:[u.jsx("li",{children:u.jsx(N,{to:"/resources",className:"hover:text-paleAmber underline-offset-4 hover:underline",children:"LGBTQIA+ Resources"})}),u.jsx("li",{children:u.jsx(N,{to:"/events",className:"hover:text-paleAmber underline-offset-4 hover:underline",children:"Community Events"})}),u.jsx("li",{children:u.jsx(N,{to:"/about",className:"hover:text-paleAmber underline-offset-4 hover:underline",children:"About Us"})}),u.jsx("li",{children:u.jsx(N,{to:"/submit",className:"hover:text-paleAmber underline-offset-4 hover:underline",children:"Submit a Resource"})})]})]}),u.jsx(I,{})]}),u.jsx("div",{className:"mt-8 text-sm text-vanillaCustard/70",children:"If you need support right now, call The LGBT National Hotline: (888) 843-4564 or Trans Lifeline: (877) 565-8860."})]})})}A.createRoot=L.createRoot,A.hydrateRoot=L.hydrateRoot;const G="ftbend_text_scale";function M(){const[e,t]=b.useState(()=>{const e=localStorage.getItem(G),t=e?Number(e):1;return!Number.isFinite(t)||t<.9||t>1.3?1:t}),a=b.useMemo(()=>[.95,1,1.15,1.25],[]);return b.useEffect(()=>{document.documentElement.style.setProperty("--text-scale",String(e)),localStorage.setItem(G,String(e))},[e]),u.jsx("div",{className:"flex items-center gap-1 rounded-xl bg-pitchBlack/60 p-1",role:"group","aria-label":"Text size adjustment",children:a.map((a,s)=>u.jsx("button",{type:"button",onClick:()=>t(a),"aria-pressed":e===a,"aria-label":"Text size "+(.95===a?"small":1===a?"normal":1.15===a?"large":"extra large"),className:["rounded-lg px-2 py-1 text-sm font-bold transition focus:outline-none focus:ring-2 focus:ring-paleAmber focus:ring-offset-1 focus:ring-offset-pitchBlack",e===a?"bg-paleAmber text-pitchBlack":"text-vanillaCustard hover:bg-pitchBlack"].join(" "),children:.95===a?"A-":1===a?"A":1.15===a?"A+":"A++"},a))})}function $({to:e,label:t}){return u.jsx(j,{to:e,className:({isActive:e})=>["rounded-xl px-3 py-2 text-base font-semibold transition focus:outline-none focus:ring-2 focus:ring-paleAmber focus:ring-offset-2 focus:ring-offset-graphite","hover:bg-pitchBlack/70 hover:text-vanillaCustard",e?"bg-pitchBlack text-vanillaCustard shadow-soft":"text-vanillaCustard/95"].join(" "),children:t})}function _(){const e=v(),t=y();return u.jsxs("header",{className:"sticky top-0 z-40 border-b border-vanillaCustard/15 bg-graphite/85 backdrop-blur",children:[u.jsxs("div",{className:"mx-auto flex w-full max-w-6xl items-center justify-between gap-3 px-4 py-3 md:px-6",children:[u.jsxs("button",{type:"button",onClick:()=>e("/"),className:"flex items-center gap-3 rounded-xl px-2 py-2 text-left hover:bg-pitchBlack/60 focus:outline-none focus:ring-2 focus:ring-paleAmber focus:ring-offset-2 focus:ring-offset-graphite transition","aria-label":"Go to homepage",children:[u.jsx("img",{src:"/ftbend-lgbtqia-logo.jpg",alt:"Fort Bend County LGBTQIA+ Community logo",className:"h-10 w-10 rounded-xl object-cover"}),u.jsx("div",{className:"hidden sm:block",children:u.jsx("div",{className:"text-base font-extrabold leading-tight text-vanillaCustard",children:"Fort Bend County LGBTQIA+ Community"})})]}),u.jsxs("nav",{"aria-label":"Primary navigation",className:"hidden items-center gap-1 md:flex",children:[u.jsx($,{to:"/",label:"Home"}),u.jsx($,{to:"/resources",label:"Resources"}),u.jsx($,{to:"/events",label:"Events"}),u.jsx($,{to:"/about",label:"About"}),u.jsx($,{to:"/submit",label:"Submit a Resource"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(M,{}),u.jsx("button",{type:"button",className:"rounded-xl bg-powderBlush px-3 py-2 text-base font-bold text-pitchBlack shadow-soft transition hover:brightness-95 focus:outline-none focus:ring-2 focus:ring-paleAmber focus:ring-offset-2 focus:ring-offset-graphite",onClick:()=>e("/resources"===t.pathname?"/":"/resources"),"aria-label":"/resources"===t.pathname?"Go to homepage":"Search resources",children:"Search"})]})]}),u.jsx("div",{className:"mx-auto w-full max-w-6xl px-4 pb-3 md:hidden md:px-6",children:u.jsxs("nav",{"aria-label":"Primary navigation (mobile)",className:"flex flex-wrap gap-2",children:[u.jsx($,{to:"/",label:"Home"}),u.jsx($,{to:"/resources",label:"Resources"}),u.jsx($,{to:"/events",label:"Events"}),u.jsx($,{to:"/about",label:"About"}),u.jsx($,{to:"/submit",label:"Submit"})]})})]})}const P="Fort Bend County LGBTQIA+ Community",Q="https://ftbend-community-resources.netlify.app";function q(e,t){const a=document.querySelector(`meta[name="${e}"]`);a&&a.setAttribute("content",t)}function H(e,t){const a=document.querySelector(`meta[property="${e}"]`);a&&a.setAttribute("content",t)}function D(){const e=y();return b.useEffect(()=>{const{title:t,description:a,structuredData:s}=function(e){const t=e.replace(/\/+$/,"")||"/";return"/"===t?{title:"Fort Bend County LGBTQIA+ Community Resources | Support & Events",description:"Find LGBTQIA+ resources, healthcare providers, legal services, and community events in Fort Bend County, Texas. Connect with support groups and inclusive organizations.",structuredData:{"@context":"https://schema.org","@type":"WebSite",name:"Fort Bend County LGBTQIA+ Community Resources",description:"LGBTQIA+ resources, healthcare, legal services, and community events in Fort Bend County, Texas",url:Q}}:"/resources"===t?{title:"LGBTQIA+ Resources Fort Bend County | Healthcare, Legal & Support",description:"Search LGBTQIA+ resources in Fort Bend County and Texas. Find healthcare providers, legal services, support groups, and community organizations.",structuredData:{"@context":"https://schema.org","@type":"CollectionPage",name:"LGBTQIA+ Resources Fort Bend County",description:"Search LGBTQIA+ resources by location, type, audience, and tags in Fort Bend County, Texas.",url:`${Q}/resources`}}:"/events"===t?{title:"LGBTQIA+ Events Fort Bend County | Community Meetups & Gatherings",description:"Join LGBTQIA+ community events and meetups in Fort Bend County, Texas. Monthly inclusive gatherings and support group meetings.",structuredData:{"@context":"https://schema.org","@type":"EventSeries",name:"Fort Bend LGBTQIA+ Community Events",description:"Monthly LGBTQIA+ community events and meetups in Fort Bend County, Texas.",url:`${Q}/events`}}:"/about"===t?{title:`About | ${P}`,description:"Learn about the Fort Bend County LGBTQIA+ Community Resources project and our mission to connect and support our community.",structuredData:{"@context":"https://schema.org","@type":"AboutPage",name:"About Fort Bend LGBTQIA+ Community Resources",description:"About the Fort Bend County LGBTQIA+ Community Resources project.",url:`${Q}/about`}}:"/submit"===t?{title:`Submit a Resource | ${P}`,description:"Share LGBTQIA+ resources with our community. Submit organizations, services, events, and support groups for Fort Bend County.",structuredData:{"@context":"https://schema.org","@type":"ContactPage",name:"Submit a Resource",description:"Submit a resource for review so we can help the community find it.",url:`${Q}/submit`}}:{title:P,description:"Community-maintained LGBTQIA+ resources and events for Fort Bend County and nearby areas."}}(e.pathname);document.title=t,q("description",a),H("og:title",t),H("og:description",a),H("og:image",`${Q}/ftbend-lgbtqia-logo.jpg`),H("og:image:alt","Fort Bend County LGBTQIA+ Community Logo"),H("og:image:width","1200"),H("og:image:height","630"),q("twitter:title",t),q("twitter:description",a),q("twitter:image",`${Q}/ftbend-lgbtqia-logo.jpg`),q("twitter:image:alt","Fort Bend County LGBTQIA+ Community Logo");const l=window.location.href;H("og:url",l),function(e){let t=document.querySelector('link[rel="canonical"]');t||(t=document.createElement("link"),t.setAttribute("rel","canonical"),document.head.appendChild(t)),t.setAttribute("href",e)}(l),s&&function(e){const t=document.querySelector('script[type="application/ld+json"]');t&&t.remove();const a=document.createElement("script");a.type="application/ld+json",a.textContent=JSON.stringify(e),document.head.appendChild(a)}(s)},[e.pathname]),null}function z(){const[e,t]=b.useState(!1);return u.jsx("a",{href:"#main",className:`\n        sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4\n        rounded-xl bg-powderBlush px-4 py-2 text-base font-extrabold \n        text-pitchBlack shadow-soft transition z-50\n        focus:outline-none focus:ring-2 focus:ring-paleAmber focus:ring-offset-2 focus:ring-offset-graphite\n        ${e?"opacity-100":"opacity-0"}\n      `,onFocus:()=>t(!0),onBlur:()=>t(!1),children:"Skip to main content"})}function U(){return u.jsxs("div",{className:"min-h-dvh",children:[u.jsx(z,{}),u.jsx(D,{}),u.jsx(_,{}),u.jsx("main",{id:"main",className:"mx-auto w-full max-w-6xl px-4 pb-16 pt-6 md:px-6",children:u.jsx(f,{})}),u.jsx(R,{})]})}function O(){const[e,t]=b.useState([]),[a,s]=b.useState(null),[l,r]=b.useState(0);return b.useEffect(()=>{fetch("/api/public/gallery").then(e=>e.json()).then(e=>t(e.items)).catch(console.error)},[]),u.jsxs("div",{className:"grid gap-6",children:[u.jsx("header",{className:"rounded-2xl border border-vanillaCustard/10 bg-gradient-to-br from-pitchBlack/60 via-pitchBlack/40 to-pitchBlack/30 backdrop-blur-sm p-8 shadow-soft",children:u.jsxs("div",{className:"grid gap-3",children:[u.jsx("h1",{className:"text-3xl font-extrabold text-vanillaCustard",children:"About Fort Bend LGBTQIA+ Community Resources"}),u.jsx("p",{className:"text-base text-vanillaCustard/90",children:"A community-first resource hub for LGBTQIA+ folks in and around Fort Bend County, Texas."})]})}),e.length>0&&u.jsxs("section",{className:"rounded-2xl border border-vanillaCustard/15 bg-pitchBlack p-6 shadow-soft",children:[u.jsx("h2",{className:"text-xl font-extrabold text-vanillaCustard mb-6",children:"Community Moments"}),u.jsxs("div",{className:"relative group",children:[u.jsx("div",{className:"aspect-video overflow-hidden rounded-xl bg-graphite shadow-inner",children:u.jsx("img",{src:e[l].filename.startsWith("http")?e[l].filename:`/api/public/gallery/${e[l].filename}`,alt:e[l].caption||"Gallery image",className:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-105"})}),e.length>1&&u.jsxs(u.Fragment,{children:[u.jsx("button",{type:"button",onClick:function(){r(t=>(t-1+e.length)%e.length)},className:"absolute left-3 top-1/2 -translate-y-1/2 rounded-full bg-pitchBlack/90 backdrop-blur-sm p-3 text-vanillaCustard transition-all hover:bg-pitchBlack hover:scale-110 opacity-0 group-hover:opacity-100","aria-label":"Previous image",children:u.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),u.jsx("button",{type:"button",onClick:function(){r(t=>(t+1)%e.length)},className:"absolute right-3 top-1/2 -translate-y-1/2 rounded-full bg-pitchBlack/90 backdrop-blur-sm p-3 text-vanillaCustard transition-all hover:bg-pitchBlack hover:scale-110 opacity-0 group-hover:opacity-100","aria-label":"Next image",children:u.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e[l].caption&&u.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-pitchBlack via-pitchBlack/95 to-transparent p-6",children:u.jsx("p",{className:"text-base font-medium text-vanillaCustard drop-shadow-lg leading-relaxed",children:e[l].caption})}),e.length>1&&u.jsx("div",{className:"absolute bottom-4 left-1/2 flex -translate-x-1/2 gap-2",children:e.map((e,t)=>u.jsx("button",{type:"button",onClick:()=>r(t),className:"h-2 w-2 rounded-full transition-all "+(t===l?"bg-paleAmber w-8":"bg-vanillaCustard/40 hover:bg-vanillaCustard/60"),"aria-label":`Go to image ${t+1}`},t))})]})]}),u.jsx("section",{className:"rounded-2xl border border-vanillaCustard/15 bg-pitchBlack p-6 text-base text-vanillaCustard/90 shadow-soft",children:u.jsxs("div",{className:"grid gap-4",children:[u.jsx("h2",{className:"text-2xl font-extrabold text-vanillaCustard",children:"Our Mission"}),u.jsx("p",{children:"This site exists to make LGBTQIA+ resources easier to findâ€”especially when you're tired, stressed, or just need a clear answer. We connect community members with healthcare providers, legal services, support groups, and inclusive events throughout Fort Bend County and across Texas."}),u.jsx("h2",{className:"text-2xl font-extrabold text-vanillaCustard",children:"What You'll Find"}),u.jsxs("ul",{className:"grid gap-2 list-disc list-inside",children:[u.jsxs("li",{children:[u.jsx(N,{to:"/resources",className:"text-paleAmber hover:underline",children:"LGBTQIA+ Resources"})," - Healthcare providers, legal services, and support organizations"]}),u.jsxs("li",{children:[u.jsx(N,{to:"/events",className:"text-paleAmber hover:underline",children:"Community Events"})," - Monthly meetups and inclusive gatherings"]}),u.jsxs("li",{children:[u.jsx(N,{to:"/submit",className:"text-paleAmber hover:underline",children:"Resource Submissions"})," - Share helpful services with our community"]})]}),u.jsx("h2",{className:"text-2xl font-extrabold text-vanillaCustard",children:"Community Safety"}),u.jsx("p",{children:"If something listed here feels unsafe, outdated, or harmful, please reach out so we can review it. Your feedback helps keep this resource directory trustworthy and helpful for everyone."}),u.jsxs("div",{className:"rounded-2xl bg-graphite/70 p-4",children:[u.jsx("h3",{className:"text-lg font-extrabold text-vanillaCustard",children:"Accessibility"}),u.jsx("p",{className:"mt-2",children:"You can increase text size in the top right. Everything should work with keyboard navigation and screen readers for full accessibility."})]}),u.jsxs("div",{className:"rounded-2xl bg-graphite/70 p-4",children:[u.jsx("h3",{className:"text-lg font-extrabold text-vanillaCustard",children:"Website Developer"}),u.jsxs("div",{className:"mt-3 space-y-2",children:[u.jsx("div",{children:u.jsxs("a",{className:"inline-flex items-center gap-2 underline underline-offset-4 hover:text-paleAmber",href:"https://github.com/robinallenaz",target:"_blank",rel:"noreferrer",children:[u.jsx("svg",{"aria-hidden":"true",viewBox:"0 0 24 24",className:"h-4 w-4",fill:"currentColor",children:u.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})}),"GitHub"]})}),u.jsx("div",{children:u.jsxs("a",{className:"inline-flex items-center gap-2 underline underline-offset-4 hover:text-paleAmber",href:"https://www.linkedin.com/in/robin-allen-software-engineer/",target:"_blank",rel:"noreferrer",children:[u.jsx("svg",{"aria-hidden":"true",viewBox:"0 0 24 24",className:"h-4 w-4",fill:"currentColor",children:u.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})}),"LinkedIn"]})})]})]})]})}),a&&u.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-pitchBlack/95 p-4",onClick:()=>s(null),children:[u.jsx("img",{src:`/api/public/gallery/${a.filename}`,alt:a.caption||"Gallery image",className:"max-h-full max-w-full rounded-xl object-contain"}),a.caption&&u.jsx("p",{className:"absolute bottom-4 left-4 right-4 text-center text-vanillaCustard/90",children:a.caption}),u.jsx("button",{type:"button",onClick:()=>s(null),className:"absolute top-4 right-4 rounded-lg bg-graphite/80 p-2 text-vanillaCustard hover:bg-graphite",children:u.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})}function W(){const{user:e}=c();return u.jsxs("div",{className:"grid gap-6",children:[u.jsx("header",{className:"rounded-2xl border border-vanillaCustard/10 bg-gradient-to-br from-pitchBlack/60 via-pitchBlack/40 to-pitchBlack/30 backdrop-blur-sm p-8 shadow-soft",children:u.jsxs("div",{className:"grid gap-3",children:[u.jsx("h1",{className:"text-3xl font-extrabold text-vanillaCustard",children:"Welcome"}),u.jsxs("p",{className:"text-base text-vanillaCustard/90",children:["Signed in as ",u.jsx("span",{className:"font-bold",children:null==e?void 0:e.email})," (",null==e?void 0:e.role,")."]})]})}),u.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[u.jsxs(N,{to:"/admin/resources",className:"rounded-2xl border border-vanillaCustard/15 bg-pitchBlack p-5 shadow-soft hover:border-vanillaCustard/35",children:[u.jsx("div",{className:"text-lg font-extrabold text-vanillaCustard",children:"Resources"}),u.jsx("div",{className:"text-sm text-vanillaCustard/75",children:"Add/edit listings and archive old ones."})]}),u.jsxs(N,{to:"/admin/events",className:"rounded-2xl border border-vanillaCustard/15 bg-pitchBlack p-5 shadow-soft hover:border-vanillaCustard/35",children:[u.jsx("div",{className:"text-lg font-extrabold text-vanillaCustard",children:"Events"}),u.jsx("div",{className:"text-sm text-vanillaCustard/75",children:"Add/edit community event listings."})]}),u.jsxs(N,{to:"/admin/submissions",className:"rounded-2xl border border-vanillaCustard/15 bg-pitchBlack p-5 shadow-soft hover:border-vanillaCustard/35",children:[u.jsx("div",{className:"text-lg font-extrabold text-vanillaCustard",children:"Submissions"}),u.jsx("div",{className:"text-sm text-vanillaCustard/75",children:"Review community submissions and approve/reject."})]}),u.jsxs("a",{href:"/",className:"rounded-2xl border border-vanillaCustard/15 bg-pitchBlack p-5 shadow-soft hover:border-vanillaCustard/35",children:[u.jsx("div",{className:"text-lg font-extrabold text-vanillaCustard",children:"Public site"}),u.jsx("div",{className:"text-sm text-vanillaCustard/75",children:"Return to the main website."})]})]})]})}function J(){const e=w().id||"",t="new"===e,a=v(),{user:s}=c(),[l,r]=b.useState(!0),[n,o]=b.useState(""),[h,p]=b.useState(""),[m,g]=b.useState(""),[f,j]=b.useState(""),[y,C]=b.useState("active"),[B,k]=b.useState("");return b.useEffect(()=>{!function(){d(this,null,function*(){r(!0),k("");try{if(!t){const t=(yield x.get(`/api/admin/events/${e}`)).item;o(t.name),p(t.schedule),g(t.url),j(t.locationHint),C(t.status)}}catch(a){k("Could not load event.")}finally{r(!1)}})}()},[e]),l?u.jsx("div",{className:"rounded-2xl border border-vanillaCustard/15 bg-pitchBlack p-6",children:"Loadingâ€¦"}):u.jsxs("div",{className:"grid gap-6",children:[u.jsxs("header",{className:"flex flex-wrap items-end justify-between gap-4",children:[u.jsxs("div",{className:"grid gap-2",children:[u.jsx("h1",{className:"text-3xl font-extrabold text-vanillaCustard",children:t?"Add event":"Edit event"}),u.jsx("p",{className:"text-base text-vanillaCustard/85",children:"Keep it short and clear."})]}),u.jsx(N,{to:"/admin/events",className:"rounded-xl border border-vanillaCustard/20 bg-graphite/60 px-3 py-2 text-base font-bold text-vanillaCustard hover:border-vanillaCustard/35",children:"Back"})]}),u.jsxs("form",{onSubmit:function(l){return d(this,null,function*(){l.preventDefault(),k("");const r={name:n,schedule:h,url:m,locationHint:f};try{if(t)yield x.post("/api/admin/events",r);else{const t=i({},r);"admin"===(null==s?void 0:s.role)&&(t.status=y),yield x.patch(`/api/admin/events/${e}`,t)}a("/admin/events")}catch(o){k("Save failed. Please check required fields.")}})},className:"grid gap-4 rounded-2xl border border-vanillaCustard/15 bg-pitchBlack p-6 shadow-soft",children:[u.jsxs("label",{className:"grid gap-2",children:[u.jsx("span",{className:"text-base font-bold text-vanillaCustard",children:"Name"}),u.jsx("input",{value:n,onChange:e=>o(e.target.value),required:!0,className:"w-full rounded-2xl border border-vanillaCustard/20 bg-graphite px-4 py-3 text-lg font-semibold text-vanillaCustard"})]}),u.jsxs("label",{className:"grid gap-2",children:[u.jsx("span",{className:"text-base font-bold text-vanillaCustard",children:"Schedule"}),u.jsx("input",{value:h,onChange:e=>p(e.target.value),required:!0,className:"w-full rounded-2xl border border-vanillaCustard/20 bg-graphite px-4 py-3 text-lg font-semibold text-vanillaCustard",placeholder:"2nd Thursday of the month"})]}),u.jsxs("label",{className:"grid gap-2",children:[u.jsx("span",{className:"text-base font-bold text-vanillaCustard",children:"Where"}),u.jsx("input",{value:f,onChange:e=>j(e.target.value),required:!0,className:"w-full rounded-2xl border border-vanillaCustard/20 bg-graphite px-4 py-3 text-lg font-semibold text-vanillaCustard",placeholder:"Fort Bend County"})]}),u.jsxs("label",{className:"grid gap-2",children:[u.jsx("span",{className:"text-base font-bold text-vanillaCustard",children:"URL"}),u.jsx("input",{value:m,onChange:e=>g(e.target.value),required:!0,inputMode:"url",className:"w-full rounded-2xl border border-vanillaCustard/20 bg-graphite px-4 py-3 text-lg font-semibold text-vanillaCustard"})]}),"admin"!==(null==s?void 0:s.role)||t?null:u.jsxs("label",{className:"grid gap-2",children:[u.jsx("span",{className:"text-base font-bold text-vanillaCustard",children:"Status"}),u.jsxs("select",{value:y,onChange:e=>C(e.target.value),className:"rounded-xl border border-vanillaCustard/20 bg-graphite px-3 py-2 text-base font-semibold text-vanillaCustard",children:[u.jsx("option",{value:"active",children:"Active"}),u.jsx("option",{value:"archived",children:"Archived"})]})]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx("button",{type:"submit",className:"rounded-xl bg-powderBlush px-4 py-3 text-base font-extrabold text-pitchBlack shadow-soft transition hover:brightness-95",children:"Save"}),t||"admin"!==(null==s?void 0:s.role)?null:u.jsx("button",{type:"button",className:"rounded-xl border border-vanillaCustard/20 bg-graphite/60 px-4 py-3 text-base font-bold text-vanillaCustard hover:border-vanillaCustard/35",onClick:"archived"===y?function(){return d(this,null,function*(){k("");try{yield x.post(`/api/admin/events/${e}/unarchive`),a("/admin/events")}catch(t){k("Unarchive failed.")}})}:function(){return d(this,null,function*(){k("");try{yield x.post(`/api/admin/events/${e}/archive`),a("/admin/events")}catch(t){k("Archive failed.")}})},children:"archived"===y?"Unarchive":"Archive"})]}),B?u.jsx("div",{className:"rounded-2xl bg-graphite/70 p-4 text-base text-vanillaCustard",children:B}):null]})]})}const X=[{value:"updated_desc",label:"Recently updated"},{value:"name_asc",label:"Name (Aâ€“Z)"},{value:"name_desc",label:"Name (Zâ€“A)"},{value:"created_desc",label:"Recently created"}];function Y(){const[e,t]=b.useState("active"),[a,s]=b.useState(""),[l,r]=b.useState("updated_desc"),[n,i]=b.useState([]),[o,c]=b.useState(!0),h=b.useMemo(()=>"all"===e?"active,archived":e,[e]);function p(){return d(this,null,function*(){c(!0);const e=new URLSearchParams;e.set("status",h),a.trim()&&e.set("q",a.trim()),l&&e.set("sort",l);const t=yield x.get(`/api/admin/events?${e.toString()}`);i(t.items),c(!1)})}b.useEffect(()=>{p()},[h,a,l]);const m=n.length,g=b.useMemo(()=>{var e,t;return null!=(t=null==(e=X.find(e=>e.value===l))?void 0:e.label)?t:"Sort"},[l]);return u.jsxs("div",{className:"grid gap-6",children:[u.jsx("header",{className:"rounded-2xl border border-vanillaCustard/10 bg-gradient-to-br from-pitchBlack/60 via-pitchBlack/40 to-pitchBlack/30 backdrop-blur-sm p-8 shadow-soft",children:u.jsxs("div",{className:"flex flex-wrap items-end justify-between gap-4",children:[u.jsxs("div",{className:"grid gap-3",children:[u.jsx("h1",{className:"text-3xl font-extrabold text-vanillaCustard",children:"Events"}),u.jsx("p",{className:"text-base text-vanillaCustard/90",children:"Add, edit, and archive events."})]}),u.jsxs("div",{className:"flex flex-wrap items-end gap-2",children:[u.jsxs("label",{className:"grid gap-1",children:[u.jsx("span",{className:"text-sm font-bold text-vanillaCustard",children:"Search"}),u.jsx("input",{value:a,onChange:e=>s(e.target.value),placeholder:"Search name, location, etcâ€¦",className:"w-60 max-w-full rounded-xl border border-vanillaCustard/20 bg-graphite px-3 py-2 text-base font-semibold text-vanillaCustard placeholder:text-vanillaCustard/60",inputMode:"search"})]}),u.jsxs("label",{className:"grid gap-1",children:[u.jsx("span",{className:"text-sm font-bold text-vanillaCustard",children:"Show"}),u.jsxs("select",{value:e,onChange:e=>t(e.target.value),className:"rounded-xl border border-vanillaCustard/20 bg-graphite px-3 py-2 text-base font-semibold text-vanillaCustard",children:[u.jsx("option",{value:"active",children:"Active"}),u.jsx("option",{value:"archived",children:"Archived"}),u.jsx("option",{value:"all",children:"All"})]})]}),u.jsxs("label",{className:"grid gap-1",children:[u.jsx("span",{className:"text-sm font-bold text-vanillaCustard",children:"Sort"}),u.jsx("select",{value:l,onChange:e=>r(e.target.value),className:"rounded-xl border border-vanillaCustard/20 bg-graphite px-3 py-2 text-base font-semibold text-vanillaCustard","aria-label":`Sort events (${g})`,children:X.map(e=>u.jsx("option",{value:e.value,children:e.label},e.value))})]}),u.jsx(N,{to:"/admin/events/new",className:"rounded-xl bg-powderBlush px-4 py-3 text-base font-extrabold text-pitchBlack shadow-soft transition hover:brightness-95",children:"Add event"})]})]})}),o?u.jsx("div",{className:"rounded-2xl border border-vanillaCustard/15 bg-pitchBlack p-6",children:"Loadingâ€¦"}):u.jsxs("div",{className:"grid gap-3",children:[u.jsxs("div",{className:"text-sm text-vanillaCustard/75",children:["Showing ",m," result",1===m?"":"s","."]}),n.map(e=>u.jsxs("div",{className:"grid gap-2 rounded-2xl border border-vanillaCustard/15 bg-pitchBlack p-5 shadow-soft md:grid-cols-[1fr_auto] md:items-center",children:[u.jsxs("div",{className:"grid gap-1",children:[u.jsx("div",{className:"text-lg font-extrabold text-vanillaCustard",children:e.name}),u.jsxs("div",{className:"text-sm text-vanillaCustard/75",children:["Schedule: ",e.schedule]}),u.jsxs("div",{className:"text-sm text-vanillaCustard/75",children:["Where: ",e.locationHint]}),u.jsx("div",{className:"text-sm text-vanillaCustard/75 break-all",children:e.url}),u.jsxs("div",{className:"text-sm text-vanillaCustard/75",children:["Status: ",u.jsx("span",{className:"font-bold",children:e.status})]}),e.updatedAt?u.jsxs("div",{className:"text-sm text-vanillaCustard/75",children:["Updated: ",u.jsx("span",{className:"font-bold",children:new Date(e.updatedAt).toLocaleDateString()})]}):null]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:u.jsx(N,{to:`/admin/events/${e._id}`,className:"rounded-xl border border-vanillaCustard/20 bg-graphite/60 px-3 py-2 text-base font-bold text-vanillaCustard hover:border-vanillaCustard/35",children:"Edit"})})]},e._id)),n.length?null:u.jsx("div",{className:"rounded-2xl border border-vanillaCustard/15 bg-pitchBlack p-6",children:"No events found."})]}),u.jsx("button",{type:"button",className:"w-fit rounded-xl border border-vanillaCustard/20 bg-graphite/60 px-4 py-3 text-base font-bold text-vanillaCustard hover:border-vanillaCustard/35",onClick:p,children:"Refresh"})]})}function V(){const[e,t]=b.useState([]),[a,s]=b.useState(!0),[l,r]=b.useState(!1),[n,c]=b.useState(!1),[h,p]=b.useState({}),[m,g]=b.useState(null),[v,f]=b.useState(null),j=b.useRef(null);function y(){return d(this,null,function*(){s(!0);const e=yield x.get("/api/admin/gallery");t(e.items),s(!1)})}function C(e){return d(this,null,function*(){if(e&&0!==e.length){r(!0);try{const a=e[0],s=new FormData;s.append("file",a),s.append("caption","");const l=yield fetch("/api/admin/gallery/upload",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:s});if(!l.ok)throw new Error("Upload failed");const r=yield l.json();t(e=>[...e,r])}catch(a){alert("Upload failed. Please try again.")}finally{r(!1)}}})}function N(e){!function(e,a){d(this,null,function*(){try{yield x.patch(`/api/admin/gallery/${e}/caption`,{caption:a}),t(t=>t.map(t=>t._id===e?o(i({},t),{caption:a}):t)),p(t=>o(i({},t),{[e]:""})),g("Caption saved successfully!"),setTimeout(()=>g(null),2e3)}catch(s){alert("Failed to update caption.")}})}(e,h[e]||"")}function w(a,s){return d(this,null,function*(){const l=[...e],[r]=l.splice(a,1);l.splice(s,0,r),l.forEach((e,t)=>{e.order=t}),t(l);try{yield Promise.all(l.map(e=>x.patch(`/api/admin/gallery/${e._id}/order`,{order:e.order})))}catch(n){alert("Failed to reorder images. Please refresh."),y()}})}return b.useEffect(()=>{y()},[]),a?u.jsx("div",{className:"p-6 text-vanillaCustard/80",children:"Loading galleryâ€¦"}):u.jsxs("div",{className:"grid gap-6 p-6",children:[u.jsx("header",{className:"rounded-2xl border border-vanillaCustard/10 bg-gradient-to-br from-pitchBlack/60 via-pitchBlack/40 to-pitchBlack/30 backdrop-blur-sm p-8 shadow-soft",children:u.jsxs("div",{className:"grid gap-3",children:[u.jsx("h1",{className:"text-3xl font-extrabold text-vanillaCustard",children:"Gallery Management"}),u.jsx("p",{className:"text-base text-vanillaCustard/90",children:"Upload and manage community photos for the website."})]})}),m&&u.jsx("div",{className:"rounded-lg bg-green-500/20 border border-green-500/30 p-3 text-center",children:u.jsx("p",{className:"text-sm font-medium text-green-300",children:m})}),u.jsxs("section",{className:"rounded-2xl border-2 border-dashed p-8 text-center transition "+(n?"border-paleAmber bg-paleAmber/10":"border-vanillaCustard/30 bg-pitchBlack/50"),onDragEnter:e=>{e.preventDefault(),c(!0)},onDragLeave:e=>{e.preventDefault(),c(!1)},onDragOver:e=>{e.preventDefault()},onDrop:function(e){return d(this,null,function*(){e.preventDefault(),c(!1),C(e.dataTransfer.files)})},children:[u.jsx("input",{type:"file",accept:"image/*",ref:j,onChange:e=>C(e.target.files),className:"hidden"}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"text-lg font-semibold text-vanillaCustard",children:l?"Uploadingâ€¦":"Drop images here or click to browse"}),u.jsx("p",{className:"text-sm text-vanillaCustard/70",children:"JPG, PNG, WebP up to 5MB"}),!l&&u.jsx("button",{type:"button",onClick:()=>{var e;return null==(e=j.current)?void 0:e.click()},className:"rounded-xl bg-paleAmber px-4 py-2 text-sm font-bold text-pitchBlack transition hover:bg-paleAmber/90",children:"Choose Files"})]})]}),u.jsxs("section",{className:"grid gap-4",children:[u.jsxs("h2",{className:"text-xl font-extrabold text-vanillaCustard",children:["Images (",e.length,")"]}),0===e.length?u.jsx("p",{className:"text-vanillaCustard/70",children:"No images yet. Upload some above!"}):u.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:e.map((a,s)=>{var l;return u.jsxs("div",{className:"group relative rounded-2xl border border-vanillaCustard/15 bg-pitchBlack p-4 shadow-soft",children:[u.jsx("img",{src:a.filename.startsWith("http")?a.filename:`/api/public/gallery/${a.filename}`,alt:a.caption||a.originalName,className:"mb-3 h-40 w-full rounded-xl object-cover cursor-pointer",onClick:()=>f(a)}),u.jsxs("div",{className:"mb-2",children:[u.jsx("textarea",{value:null!=(l=h[a._id])?l:a.caption,onChange:e=>{return t=a._id,s=e.target.value,void p(e=>o(i({},e),{[t]:s}));var t,s},placeholder:"Add a captionâ€¦",rows:3,className:"mb-1 w-full rounded-lg border border-vanillaCustard/20 bg-graphite px-3 py-2 text-sm text-vanillaCustard placeholder:text-vanillaCustard/60 resize-none"}),u.jsx("button",{type:"button",onClick:()=>N(a._id),className:"w-full rounded bg-paleAmber px-2 py-1 text-xs font-bold text-pitchBlack transition hover:bg-paleAmber/90",children:"Save Caption"})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-xs text-vanillaCustard/60",children:a.originalName}),u.jsxs("div",{className:"flex gap-1",children:[s>0&&u.jsx("button",{type:"button",onClick:()=>w(s,s-1),className:"rounded px-2 py-1 text-xs text-vanillaCustard/80 hover:bg-graphite",children:"â†‘"}),s<e.length-1&&u.jsx("button",{type:"button",onClick:()=>w(s,s+1),className:"rounded px-2 py-1 text-xs text-vanillaCustard/80 hover:bg-graphite",children:"â†“"}),u.jsx("button",{type:"button",onClick:()=>function(e){return d(this,null,function*(){if(confirm("Are you sure you want to remove this image?"))try{yield x.delete(`/api/admin/gallery/${e}`),t(t=>t.filter(t=>t._id!==e))}catch(a){alert("Failed to delete image.")}})}(a._id),className:"rounded px-2 py-1 text-xs text-red-400 hover:bg-red-900/20",children:"Delete"})]})]})]},a._id)})})]}),v&&u.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-gradient-to-br from-pitchBlack/90 via-pitchBlack/85 to-pitchBlack/80 backdrop-blur-sm p-4",onClick:()=>f(null),children:[u.jsxs("div",{className:"relative max-h-full max-w-full",children:[u.jsx("img",{src:v.filename.startsWith("http")?v.filename:`/api/public/gallery/${v.filename}`,alt:v.caption||v.originalName,className:"max-h-[80vh] max-w-[90vw] rounded-2xl object-contain shadow-2xl"}),v.caption&&u.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-pitchBlack/95 via-pitchBlack/80 to-transparent p-6 rounded-b-2xl",children:u.jsx("p",{className:"text-center text-vanillaCustard/95 text-base",children:v.caption})})]}),u.jsx("button",{type:"button",onClick:()=>f(null),className:"absolute top-6 right-6 rounded-full bg-pitchBlack/60 backdrop-blur-sm p-3 text-vanillaCustard/90 hover:bg-pitchBlack/80 transition-all duration-200",children:u.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})}function Z(){const e=v(),t=y(),{user:a,login:s}=c(),[l,r]=b.useState(""),[n,i]=b.useState(""),[o,x]=b.useState("idle"),h=new URLSearchParams(t.search).get("next")||"/admin";if(a)return u.jsx(C,{to:h,replace:!0});return u.jsxs("div",{className:"grid gap-6",children:[u.jsx("header",{className:"rounded-2xl border border-vanillaCustard/10 bg-gradient-to-br from-pitchBlack/60 via-pitchBlack/40 to-pitchBlack/30 backdrop-blur-sm p-8 shadow-soft",children:u.jsxs("div",{className:"grid gap-3",children:[u.jsx("h1",{className:"text-3xl font-extrabold text-vanillaCustard",children:"Admin login"}),u.jsx("p",{className:"text-base text-vanillaCustard/90",children:"Use your admin email and password."})]})}),u.jsxs("form",{onSubmit:function(t){return d(this,null,function*(){t.preventDefault(),x("working");try{yield s(l,n),e(h)}catch(a){x("error")}finally{x("idle")}})},className:"grid gap-4 rounded-2xl border border-vanillaCustard/15 bg-pitchBlack p-6 shadow-soft",children:[u.jsxs("label",{className:"grid gap-2",children:[u.jsx("span",{className:"text-base font-bold text-vanillaCustard",children:"Email"}),u.jsx("input",{value:l,onChange:e=>r(e.target.value),required:!0,inputMode:"email",className:"w-full rounded-2xl border border-vanillaCustard/20 bg-graphite px-4 py-3 text-lg font-semibold text-vanillaCustard"})]}),u.jsxs("label",{className:"grid gap-2",children:[u.jsx("span",{className:"text-base font-bold text-vanillaCustard",children:"Password"}),u.jsx("input",{value:n,onChange:e=>i(e.target.value),required:!0,type:"password",className:"w-full rounded-2xl border border-vanillaCustard/20 bg-graphite px-4 py-3 text-lg font-semibold text-vanillaCustard"})]}),u.jsx("button",{type:"submit",className:"rounded-xl bg-powderBlush px-4 py-3 text-lg font-extrabold text-pitchBlack shadow-soft transition hover:brightness-95 disabled:opacity-60",disabled:"working"===o,children:"Log in"}),"error"===o?u.jsx("div",{className:"rounded-2xl bg-graphite/70 p-4 text-base text-vanillaCustard",children:"Login failed. Check your email/password."}):null]}),u.jsx("div",{className:"text-sm text-vanillaCustard/75",children:"If you donâ€™t have admin credentials yet, run the server seed script."})]})}function K(){const[e,t]=b.useState([]),[a,s]=b.useState([]),[l,r]=b.useState({subject:"",htmlContent:"",textContent:""}),[n,c]=b.useState(""),[p,m]=b.useState(!0),[g,v]=b.useState(""),[f,j]=b.useState(""),[y,C]=b.useState(!1),[N,w]=b.useState(!1),[B,k]=b.useState(!1),[S,A]=b.useState(""),[L,T]=b.useState(""),[F,E]=b.useState(!1);function I(){return d(this,null,function*(){const[e,a]=yield Promise.all([x.get("/api/admin/newsletter/campaigns"),x.get("/api/admin/newsletter/subscribers")]);t(e.items),s(a.items)})}b.useEffect(()=>{if(p){const e=h(n);r(t=>o(i({},t),{htmlContent:e}))}},[n,p]),b.useEffect(()=>{if(!p&&l.htmlContent){const e=l.htmlContent.replace(/<h1[^>]*>(.*?)<\/h1>/gi,"# $1").replace(/<h2[^>]*>(.*?)<\/h2>/gi,"## $1").replace(/<h3[^>]*>(.*?)<\/h3>/gi,"### $1").replace(/<strong[^>]*>(.*?)<\/strong>/gi,"**$1**").replace(/<b[^>]*>(.*?)<\/b>/gi,"**$1**").replace(/<em[^>]*>(.*?)<\/em>/gi,"*$1*").replace(/<i[^>]*>(.*?)<\/i>/gi,"*$1*").replace(/<a[^>]*href="([^"]*)"[^>]*>(.*?)<\/a>/gi,"[$2]($1)").replace(/<p[^>]*>(.*?)<\/p>/gi,"$1\n\n").replace(/<br\s*\/?>/gi,"\n").replace(/<[^>]*>/g,"");c(e.trim())}},[l.htmlContent,p]),b.useEffect(()=>{I()},[]);const R=p?h(n):l.htmlContent;return u.jsxs("main",{className:"mx-auto max-w-4xl space-y-8 px-4 py-12",children:[u.jsx("header",{className:"rounded-2xl border border-vanillaCustard/10 bg-gradient-to-br from-pitchBlack/60 via-pitchBlack/40 to-pitchBlack/30 backdrop-blur-sm p-8 shadow-soft",children:u.jsxs("div",{className:"flex flex-wrap items-end justify-between gap-4",children:[u.jsxs("div",{className:"grid gap-3",children:[u.jsx("h1",{className:"text-3xl font-extrabold text-vanillaCustard",children:"Newsletter"}),u.jsx("p",{className:"text-base text-vanillaCustard/90",children:"Compose and send newsletters to subscribers."})]}),u.jsxs("div",{className:"text-sm text-vanillaCustard/80",children:[a.length," active subscriber",1!==a.length?"s":""]})]})}),L&&u.jsx("div",{className:"rounded-2xl bg-graphite/70 p-4 text-base text-vanillaCustard",children:L}),u.jsxs("section",{className:"grid gap-6 rounded-2xl border border-vanillaCustard/15 bg-pitchBlack p-6 shadow-soft",children:[u.jsx("h2",{className:"text-xl font-extrabold text-vanillaCustard",children:"New Campaign"}),u.jsxs("label",{className:"grid gap-2",children:[u.jsx("span",{className:"text-base font-bold text-vanillaCustard",children:"Subject"}),u.jsx("input",{value:l.subject,onChange:e=>r(o(i({},l),{subject:e.target.value})),placeholder:"Newsletter subject",className:"w-full rounded-2xl border border-vanillaCustard/20 bg-graphite px-4 py-3 text-lg font-semibold text-vanillaCustard"})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-base font-bold text-vanillaCustard",children:"Content"}),u.jsx("button",{type:"button",onClick:()=>m(!p),className:"rounded-xl border border-vanillaCustard/20 bg-graphite px-3 py-2 text-sm font-extrabold text-vanillaCustard shadow-soft transition hover:brightness-95",children:p?"Switch to HTML":"Switch to Markdown"})]}),p?u.jsxs("div",{className:"rounded-2xl border border-vanillaCustard/15 bg-pitchBlack p-4 shadow-soft",children:[u.jsxs("div",{className:"mb-3 text-sm text-vanillaCustard/85",children:[u.jsx("strong",{children:"Quick Markdown Guide:"})," ",u.jsx("code",{className:"rounded border border-vanillaCustard/20 bg-graphite px-1 py-0.5 text-xs",children:"# Header"})," | ",u.jsx("code",{className:"rounded border border-vanillaCustard/20 bg-graphite px-1 py-0.5 text-xs",children:"## Header"})," | ",u.jsxs("code",{className:"rounded border border-vanillaCustard/20 bg-graphite px-1 py-0.5 text-xs",children:["**",u.jsx("strong",{children:"bold"}),"**"]})," | ",u.jsxs("code",{className:"rounded border border-vanillaCustard/20 bg-graphite px-1 py-0.5 text-xs",children:["*",u.jsx("em",{children:"italic"}),"*"]})," | ",u.jsxs("code",{className:"rounded border border-vanillaCustard/20 bg-graphite px-1 py-0.5 text-xs",children:["[",u.jsx("a",{href:"#",className:"text-paleAmber underline",children:"link text"}),"](https://example.com)"]})," | ",u.jsxs("code",{className:"rounded border border-vanillaCustard/20 bg-graphite px-1 py-0.5 text-xs",children:["![",u.jsx("em",{children:"alt"}),"](image-url)"]})]}),u.jsx("div",{className:"mb-3 text-sm",children:u.jsxs("a",{href:"https://www.markdownguide.org/basic-syntax/",target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-1 text-paleAmber underline underline-offset-2 hover:no-underline",children:[u.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),"Markdown Guide"]})})]}):u.jsxs("div",{className:"rounded-2xl border border-vanillaCustard/15 bg-pitchBlack p-4 shadow-soft",children:[u.jsxs("div",{className:"mb-3 text-sm text-vanillaCustard/85",children:[u.jsx("strong",{children:"Basic HTML Tags:"})," ",u.jsx("code",{className:"rounded border border-vanillaCustard/20 bg-graphite px-1 py-0.5 text-xs",children:"<h1>Title</h1>"})," | ",u.jsx("code",{className:"rounded border border-vanillaCustard/20 bg-graphite px-1 py-0.5 text-xs",children:"<p>Paragraph</p>"})," | ",u.jsxs("code",{className:"rounded border border-vanillaCustard/20 bg-graphite px-1 py-0.5 text-xs",children:["<strong>",u.jsx("strong",{children:"Bold"}),"</strong>"]})," | ",u.jsxs("code",{className:"rounded border border-vanillaCustard/20 bg-graphite px-1 py-0.5 text-xs",children:["<em>",u.jsx("em",{children:"Italic"}),"</em>"]})," | ",u.jsxs("code",{className:"rounded border border-vanillaCustard/20 bg-graphite px-1 py-0.5 text-xs",children:['<a href="url">',u.jsx("a",{href:"#",className:"text-paleAmber underline",children:"Link"}),"</a>"]})," | ",u.jsx("code",{className:"rounded border border-vanillaCustard/20 bg-graphite px-1 py-0.5 text-xs",children:'<img src="url" alt="text">'})]}),u.jsx("div",{className:"mb-3 text-sm",children:u.jsxs("a",{href:"https://developer.mozilla.org/en-US/docs/Learn/Getting_started_with_the_web/HTML_basics",target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-1 text-paleAmber underline underline-offset-2 hover:no-underline",children:[u.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),"HTML Basics"]})})]}),u.jsxs("div",{className:"grid gap-4 lg:grid-cols-2",children:[u.jsxs("div",{className:"grid gap-2",children:[u.jsx("span",{className:"text-sm font-semibold text-vanillaCustard/85",children:p?"Markdown":"HTML"}),p?u.jsx("textarea",{value:n,onChange:e=>c(e.target.value),placeholder:"Write your newsletter in Markdown...",rows:12,className:"w-full rounded-2xl border border-vanillaCustard/20 bg-graphite px-4 py-3 text-base font-mono text-vanillaCustard"}):u.jsx("textarea",{value:l.htmlContent,onChange:e=>r(o(i({},l),{htmlContent:e.target.value})),placeholder:"HTML content (you can use basic HTML tags)",rows:12,className:"w-full rounded-2xl border border-vanillaCustard/20 bg-graphite px-4 py-3 text-base font-mono text-vanillaCustard"})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx("span",{className:"text-sm font-semibold text-vanillaCustard/85",children:"Live Preview"}),u.jsx("div",{className:"rounded-2xl border border-vanillaCustard/15 bg-graphite p-4 prose prose-invert max-w-none min-h-[12rem]",children:R?u.jsx("div",{dangerouslySetInnerHTML:{__html:R}}):u.jsx("div",{className:"text-vanillaCustard/50 italic",children:"Preview will appear here..."})})]})]})]}),p&&u.jsxs("div",{className:"grid gap-3 rounded-2xl border border-vanillaCustard/15 bg-pitchBlack p-4 shadow-soft",children:[u.jsx("div",{className:"text-base font-bold text-vanillaCustard",children:"Insert Image"}),u.jsxs("div",{className:"grid gap-3 sm:grid-cols-[1fr_auto_auto] sm:items-end",children:[u.jsx("input",{type:"url",value:g,onChange:e=>v(e.target.value),placeholder:"Image URL (https://...)",className:"w-full rounded-xl border border-vanillaCustard/20 bg-graphite px-3 py-2 text-base text-vanillaCustard placeholder:text-vanillaCustard/50"}),u.jsx("input",{type:"text",value:f,onChange:e=>j(e.target.value),placeholder:"Alt text (optional)",className:"w-full rounded-xl border border-vanillaCustard/20 bg-graphite px-3 py-2 text-base text-vanillaCustard placeholder:text-vanillaCustard/50 sm:w-auto"}),u.jsx("button",{type:"button",disabled:!g,onClick:function(){if(!g)return;const e=`![${f||"image"}](${g})`;c(n?`${n}\n\n${e}\n\n`:`${e}\n\n`),v(""),j("")},className:"rounded-xl bg-powderBlush px-4 py-2 text-base font-extrabold text-pitchBlack shadow-soft transition hover:brightness-95 disabled:opacity-60",children:"Insert"})]})]}),u.jsxs("label",{className:"grid gap-2",children:[u.jsx("span",{className:"text-base font-bold text-vanillaCustard",children:"Plain Text Content"}),u.jsx("textarea",{value:l.textContent,onChange:e=>r(o(i({},l),{textContent:e.target.value})),placeholder:"Plain text fallback",rows:4,className:"w-full rounded-2xl border border-vanillaCustard/20 bg-graphite px-4 py-3 text-base font-mono text-vanillaCustard"})]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:u.jsx("button",{type:"button",disabled:y||!l.subject||!R||!l.textContent,onClick:function(){return d(this,null,function*(){C(!0),T("");try{const a=p?o(i({},l),{htmlContent:h(n)}):l,s=yield x.post("/api/admin/newsletter/campaigns",a);t([s.campaign,...e]),r({subject:"",htmlContent:"",textContent:""}),c(""),T("Campaign saved as draft.")}catch(a){T((null==a?void 0:a.message)||"Save failed.")}finally{C(!1)}})},className:"rounded-xl bg-powderBlush px-4 py-3 text-base font-extrabold text-pitchBlack shadow-soft transition hover:brightness-95 disabled:opacity-60",children:y?"Savingâ€¦":"Save as Draft"})})]}),u.jsxs("section",{className:"grid gap-4",children:[u.jsx("h2",{className:"text-xl font-extrabold text-vanillaCustard",children:"Campaigns"}),0===e.length?u.jsx("div",{className:"rounded-2xl border border-vanillaCustard/15 bg-pitchBlack p-6 text-vanillaCustard/70",children:"No campaigns yet."}):u.jsx("div",{className:"grid gap-4",children:e.map(e=>u.jsxs("div",{className:"grid gap-3 rounded-2xl border border-vanillaCustard/15 bg-pitchBlack p-6 shadow-soft",children:[u.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[u.jsxs("div",{className:"grid gap-1",children:[u.jsx("h3",{className:"text-lg font-extrabold text-vanillaCustard",children:e.subject}),u.jsxs("p",{className:"text-sm text-vanillaCustard/70",children:["Status: ",e.status," | Created: ",new Date(e.createdAt).toLocaleDateString(),"sent"===e.status&&` | Sent: ${e.sentCount}`]})]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:["draft"===e.status&&u.jsxs(u.Fragment,{children:[u.jsx("button",{type:"button",disabled:B,onClick:()=>{const t=window.prompt("Send test to:");t&&(A(t),function(e){d(this,null,function*(){if(!S)return T("Enter a test email address.");k(!0),T("");try{yield x.post(`/api/admin/newsletter/campaigns/${e}/test`,{to:S}),T(`Test sent to ${S}`)}catch(t){T((null==t?void 0:t.message)||"Test send failed.")}finally{k(!1)}})}(e._id))},className:"rounded-xl bg-graphite px-3 py-2 text-sm font-extrabold text-vanillaCustard shadow-soft transition hover:brightness-95 disabled:opacity-60",children:B?"Sendingâ€¦":"Test"}),u.jsx("button",{type:"button",disabled:N,onClick:()=>function(e){return d(this,null,function*(){if(confirm("Send this campaign to all subscribers? This cannot be undone.")){w(!0),T("");try{const t=yield x.post(`/api/admin/newsletter/campaigns/${e}/send`);T(`Sent to ${t.sentCount} subscribers.`),yield I()}catch(t){T((null==t?void 0:t.message)||"Send failed.")}finally{w(!1)}}})}(e._id),className:"rounded-xl bg-powderBlush px-3 py-2 text-sm font-extrabold text-pitchBlack shadow-soft transition hover:brightness-95 disabled:opacity-60",children:N?"Sendingâ€¦":"Send"})]}),u.jsx("button",{type:"button",onClick:()=>E(!F),className:"rounded-xl border border-vanillaCustard/20 bg-graphite px-3 py-2 text-sm font-extrabold text-vanillaCustard shadow-soft transition hover:brightness-95",children:F?"Hide":"Preview"})]})]}),F&&u.jsxs("div",{className:"rounded-2xl border border-vanillaCustard/15 bg-white p-4",children:[u.jsx("div",{className:"mb-2 text-sm font-bold text-gray-600",children:"HTML Preview (Gmail-style):"}),u.jsx("div",{className:"text-black",dangerouslySetInnerHTML:{__html:e.htmlContent}})]})]},e._id))})]})]})}function ee(e){const{title:t,description:a,options:s,selected:l,onToggle:r}=e;return u.jsxs("fieldset",{className:"rounded-2xl border border-vanillaCustard/15 bg-pitchBlack p-4",children:[u.jsxs("legend",{className:"mb-3",children:[u.jsx("div",{className:"text-lg font-extrabold text-vanillaCustard",children:t}),a?u.jsx("div",{className:"text-sm text-vanillaCustard/75",children:a}):null]}),u.jsx("div",{className:"grid gap-2",role:"group","aria-label":`${t} filters`,children:s.map(e=>{const a=`${t}-${e.value}`.replace(/\s+/g,"-").toLowerCase(),s=l.has(e.value);return u.jsxs("label",{htmlFor:a,className:"flex cursor-pointer items-center justify-between gap-3 rounded-xl border border-vanillaCustard/15 bg-graphite/60 px-3 py-2 hover:border-vanillaCustard/35 focus-within:ring-2 focus-within:ring-paleAmber focus-within:ring-offset-2 focus-within:ring-offset-pitchBlack transition",children:[u.jsx("span",{className:"text-base font-semibold text-vanillaCustard",children:e.label}),u.jsx("input",{id:a,type:"checkbox",checked:s,onChange:()=>r(e.value),className:"h-5 w-5 accent-paleAmber focus:outline-none focus:ring-2 focus:ring-paleAmber focus:ring-offset-2 focus:ring-offset-graphite"})]},e.value)})})]})}function te(e){return new Set(e)}function ae(e){return Array.from(e.values())}function se(){const e=w().id||"",t="new"===e,a=v(),{user:s}=c(),[l,r]=b.useState(!0),[n,o]=b.useState(null),[h,p]=b.useState(""),[m,g]=b.useState(""),[f,j]=b.useState(""),[y,C]=b.useState(te(["Fort Bend"])),[B,k]=b.useState(te([])),[S,A]=b.useState(te(["All"])),[L,T]=b.useState(""),[F,E]=b.useState("active"),[I,R]=b.useState(""),G=b.useMemo(()=>L.split(",").map(e=>e.trim()).filter(Boolean),[L]);return b.useEffect(()=>{!function(){d(this,null,function*(){r(!0),R("");try{const a=yield x.get("/api/admin/options");if(o(a.options),!t){const t=(yield x.get(`/api/admin/resources/${e}`)).item;p(t.name),g(t.url),j(t.description),C(te(t.locations)),k(te(t.types)),A(te(t.audiences)),T(t.tags.join(", ")),E(t.status)}}catch(a){R("Could not load resource.")}finally{r(!1)}})}()},[e]),l?u.jsx("div",{className:"rounded-2xl border border-vanillaCustard/15 bg-pitchBlack p-6",children:"Loadingâ€¦"}):n?u.jsxs("div",{className:"grid gap-6",children:[u.jsxs("header",{className:"flex flex-wrap items-end justify-between gap-4",children:[u.jsxs("div",{className:"grid gap-2",children:[u.jsx("h1",{className:"text-3xl font-extrabold text-vanillaCustard",children:t?"Add resource":"Edit resource"}),u.jsx("p",{className:"text-base text-vanillaCustard/85",children:"Simple formâ€”no markdown."})]}),u.jsx(N,{to:"/admin/resources",className:"rounded-xl border border-vanillaCustard/20 bg-graphite/60 px-3 py-2 text-base font-bold text-vanillaCustard hover:border-vanillaCustard/35",children:"Back"})]}),u.jsxs("form",{onSubmit:function(l){return d(this,null,function*(){l.preventDefault(),R("");const r={name:h,url:m,description:f,locations:ae(y),types:ae(B),audiences:ae(S),tags:G.length?G:["general"]};try{if(t)yield x.post("/api/admin/resources",r);else{const t=i({},r);"admin"===(null==s?void 0:s.role)&&(t.status=F),yield x.patch(`/api/admin/resources/${e}`,t)}a("/admin/resources")}catch(n){R("Save failed. Please check required fields.")}})},className:"grid gap-4 rounded-2xl border border-vanillaCustard/15 bg-pitchBlack p-6 shadow-soft",children:[u.jsxs("label",{className:"grid gap-2",children:[u.jsx("span",{className:"text-base font-bold text-vanillaCustard",children:"Name"}),u.jsx("input",{value:h,onChange:e=>p(e.target.value),required:!0,className:"w-full rounded-2xl border border-vanillaCustard/20 bg-graphite px-4 py-3 text-lg font-semibold text-vanillaCustard"})]}),u.jsxs("label",{className:"grid gap-2",children:[u.jsx("span",{className:"text-base font-bold text-vanillaCustard",children:"URL"}),u.jsx("input",{value:m,onChange:e=>g(e.target.value),required:!0,inputMode:"url",className:"w-full rounded-2xl border border-vanillaCustard/20 bg-graphite px-4 py-3 text-lg font-semibold text-vanillaCustard"})]}),u.jsxs("label",{className:"grid gap-2",children:[u.jsx("span",{className:"text-base font-bold text-vanillaCustard",children:"Description"}),u.jsx("textarea",{value:f,onChange:e=>j(e.target.value),rows:5,required:!0,className:"w-full rounded-2xl border border-vanillaCustard/20 bg-graphite px-4 py-3 text-lg font-semibold text-vanillaCustard"})]}),u.jsxs("label",{className:"grid gap-2",children:[u.jsx("span",{className:"text-base font-bold text-vanillaCustard",children:"Tags (comma-separated)"}),u.jsx("input",{value:L,onChange:e=>T(e.target.value),className:"w-full rounded-2xl border border-vanillaCustard/20 bg-graphite px-4 py-3 text-lg font-semibold text-vanillaCustard",placeholder:"community, youth, support"})]}),"admin"!==(null==s?void 0:s.role)||t?null:u.jsxs("label",{className:"grid gap-2",children:[u.jsx("span",{className:"text-base font-bold text-vanillaCustard",children:"Status"}),u.jsxs("select",{value:F,onChange:e=>E(e.target.value),className:"rounded-xl border border-vanillaCustard/20 bg-graphite px-3 py-2 text-base font-semibold text-vanillaCustard",children:[u.jsx("option",{value:"active",children:"Active"}),u.jsx("option",{value:"archived",children:"Archived"})]})]}),u.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[u.jsx(ee,{title:"Locations",options:n.locations.map(e=>({label:e,value:e})),selected:y,onToggle:e=>{C(t=>{const a=new Set(t);return a.has(e)?a.delete(e):a.add(e),a.size?a:t})}}),u.jsx(ee,{title:"Types",options:n.types.map(e=>({label:e,value:e})),selected:B,onToggle:e=>{k(t=>{const a=new Set(t);return a.has(e)?a.delete(e):a.add(e),a.size?a:t})}}),u.jsx(ee,{title:"Audiences",options:n.audiences.map(e=>({label:e,value:e})),selected:S,onToggle:e=>{A(t=>{const a=new Set(t);return a.has(e)?a.delete(e):a.add(e),a.size?a:t})}})]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx("button",{type:"submit",className:"rounded-xl bg-powderBlush px-4 py-3 text-base font-extrabold text-pitchBlack shadow-soft transition hover:brightness-95",children:"Save"}),t||"admin"!==(null==s?void 0:s.role)?null:u.jsx("button",{type:"button",className:"rounded-xl border border-vanillaCustard/20 bg-graphite/60 px-4 py-3 text-base font-bold text-vanillaCustard hover:border-vanillaCustard/35",onClick:"archived"===F?function(){return d(this,null,function*(){R("");try{yield x.post(`/api/admin/resources/${e}/unarchive`),a("/admin/resources")}catch(t){R("Unarchive failed.")}})}:function(){return d(this,null,function*(){R("");try{yield x.post(`/api/admin/resources/${e}/archive`),a("/admin/resources")}catch(t){R("Archive failed.")}})},children:"archived"===F?"Unarchive":"Archive"})]}),I?u.jsx("div",{className:"rounded-2xl bg-graphite/70 p-4 text-base text-vanillaCustard",children:I}):null]})]}):u.jsx("div",{className:"rounded-2xl border border-vanillaCustard/15 bg-pitchBlack p-6",children:"Could not load options."})}const le=[{value:"updated_desc",label:"Recently updated"},{value:"name_asc",label:"Name (Aâ€“Z)"},{value:"name_desc",label:"Name (Zâ€“A)"},{value:"created_desc",label:"Recently created"}];function re(){const[e,t]=b.useState("active"),[a,s]=b.useState(""),[l,r]=b.useState("updated_desc"),[n,i]=b.useState([]),[o,c]=b.useState(!0),h=b.useMemo(()=>"all"===e?"active,archived":e,[e]);function p(){return d(this,null,function*(){c(!0);const e=new URLSearchParams;e.set("status",h),a.trim()&&e.set("q",a.trim()),l&&e.set("sort",l);const t=yield x.get(`/api/admin/resources?${e.toString()}`);i(t.items),c(!1)})}b.useEffect(()=>{p()},[h,a,l]);const m=n.length,g=b.useMemo(()=>{var e,t;return null!=(t=null==(e=le.find(e=>e.value===l))?void 0:e.label)?t:"Sort"},[l]);return u.jsxs("div",{className:"grid gap-6",children:[u.jsx("header",{className:"rounded-2xl border border-vanillaCustard/10 bg-gradient-to-br from-pitchBlack/60 via-pitchBlack/40 to-pitchBlack/30 backdrop-blur-sm p-8 shadow-soft",children:u.jsxs("div",{className:"flex flex-wrap items-end justify-between gap-4",children:[u.jsxs("div",{className:"grid gap-3",children:[u.jsx("h1",{className:"text-3xl font-extrabold text-vanillaCustard",children:"Resources"}),u.jsx("p",{className:"text-base text-vanillaCustard/90",children:"Add, edit, and archive resources."})]}),u.jsxs("div",{className:"flex flex-wrap items-end gap-2",children:[u.jsxs("label",{className:"grid gap-1",children:[u.jsx("span",{className:"text-sm font-bold text-vanillaCustard",children:"Search"}),u.jsx("input",{value:a,onChange:e=>s(e.target.value),placeholder:"Search name, tags, etcâ€¦",className:"w-60 max-w-full rounded-xl border border-vanillaCustard/20 bg-graphite px-3 py-2 text-base font-semibold text-vanillaCustard placeholder:text-vanillaCustard/60",inputMode:"search"})]}),u.jsxs("label",{className:"grid gap-1",children:[u.jsx("span",{className:"text-sm font-bold text-vanillaCustard",children:"Show"}),u.jsxs("select",{value:e,onChange:e=>t(e.target.value),className:"rounded-xl border border-vanillaCustard/20 bg-graphite px-3 py-2 text-base font-semibold text-vanillaCustard",children:[u.jsx("option",{value:"active",children:"Active"}),u.jsx("option",{value:"archived",children:"Archived"}),u.jsx("option",{value:"all",children:"All"})]})]}),u.jsxs("label",{className:"grid gap-1",children:[u.jsx("span",{className:"text-sm font-bold text-vanillaCustard",children:"Sort"}),u.jsx("select",{value:l,onChange:e=>r(e.target.value),className:"rounded-xl border border-vanillaCustard/20 bg-graphite px-3 py-2 text-base font-semibold text-vanillaCustard","aria-label":`Sort resources (${g})`,children:le.map(e=>u.jsx("option",{value:e.value,children:e.label},e.value))})]}),u.jsx(N,{to:"/admin/resources/new",className:"rounded-xl bg-powderBlush px-4 py-3 text-base font-extrabold text-pitchBlack shadow-soft transition hover:brightness-95",children:"Add resource"})]})]})}),o?u.jsx("div",{className:"rounded-2xl border border-vanillaCustard/15 bg-pitchBlack p-6",children:"Loadingâ€¦"}):u.jsxs("div",{className:"grid gap-3",children:[u.jsxs("div",{className:"text-sm text-vanillaCustard/75",children:["Showing ",m," result",1===m?"":"s","."]}),n.map(e=>u.jsxs("div",{className:"grid gap-2 rounded-2xl border border-vanillaCustard/15 bg-pitchBlack p-5 shadow-soft md:grid-cols-[1fr_auto] md:items-center",children:[u.jsxs("div",{className:"grid gap-1",children:[u.jsx("div",{className:"text-lg font-extrabold text-vanillaCustard",children:e.name}),u.jsx("div",{className:"text-sm text-vanillaCustard/75 break-all",children:u.jsx("a",{href:e.url,target:"_blank",rel:"noreferrer",className:"underline underline-offset-4 hover:text-paleAmber",children:e.url})}),u.jsxs("div",{className:"text-sm text-vanillaCustard/75",children:["Status: ",u.jsx("span",{className:"font-bold",children:e.status})]}),e.updatedAt?u.jsxs("div",{className:"text-sm text-vanillaCustard/75",children:["Updated: ",u.jsx("span",{className:"font-bold",children:new Date(e.updatedAt).toLocaleDateString()})]}):null]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:u.jsx(N,{to:`/admin/resources/${e._id}`,className:"rounded-xl border border-vanillaCustard/20 bg-graphite/60 px-3 py-2 text-base font-bold text-vanillaCustard hover:border-vanillaCustard/35",children:"Edit"})})]},e._id)),n.length?null:u.jsx("div",{className:"rounded-2xl border border-vanillaCustard/15 bg-pitchBlack p-6",children:"No resources found."})]}),u.jsx("button",{type:"button",className:"w-fit rounded-xl border border-vanillaCustard/20 bg-graphite/60 px-4 py-3 text-base font-bold text-vanillaCustard hover:border-vanillaCustard/35",onClick:p,children:"Refresh"})]})}function ne(e){return new Set(e)}function ie(e){return Array.from(e.values())}function oe(){const[e,t]=b.useState(null),[a,s]=b.useState([]),[l,r]=b.useState(!0),[n,i]=b.useState("pending"),[o,c]=b.useState(null),[h,p]=b.useState(""),[m,g]=b.useState(!1),[v,f]=b.useState(""),[j,y]=b.useState(!1),[C,N]=b.useState(""),[w,B]=b.useState(!1),k=b.useMemo(()=>"all"===n?"pending,approved,rejected":n,[n]);function S(){return d(this,null,function*(){r(!0);const[e,a,l]=yield Promise.all([x.get("/api/admin/options"),x.get(`/api/admin/submissions?status=${encodeURIComponent(k)}`),x.get("/api/admin/notification-settings")]);t(e.options),s(a.items),c(l.settings),g(Boolean(l.settings.submissionEmailEnabled)),p((l.settings.submissionEmailRecipients||[]).join(", ")),f(l.settings.publicSiteUrl||""),r(!1)})}return b.useEffect(()=>{S()},[k]),u.jsxs("div",{className:"grid gap-6",children:[u.jsx("header",{className:"rounded-2xl border border-vanillaCustard/10 bg-gradient-to-br from-pitchBlack/60 via-pitchBlack/40 to-pitchBlack/30 backdrop-blur-sm p-8 shadow-soft",children:u.jsxs("div",{className:"flex flex-wrap items-end justify-between gap-4",children:[u.jsxs("div",{className:"grid gap-3",children:[u.jsx("h1",{className:"text-3xl font-extrabold text-vanillaCustard",children:"Submissions"}),u.jsx("p",{className:"text-base text-vanillaCustard/90",children:"Review community submissions."})]}),u.jsxs("label",{className:"grid gap-1",children:[u.jsx("span",{className:"text-sm font-bold text-vanillaCustard",children:"Show"}),u.jsxs("select",{value:n,onChange:e=>i(e.target.value),className:"rounded-xl border border-vanillaCustard/20 bg-graphite px-3 py-2 text-base font-semibold text-vanillaCustard",children:[u.jsx("option",{value:"pending",children:"Pending"}),u.jsx("option",{value:"approved",children:"Approved"}),u.jsx("option",{value:"rejected",children:"Rejected"}),u.jsx("option",{value:"all",children:"All"})]})]})]})}),o?u.jsxs("section",{className:"grid gap-3 rounded-2xl border border-vanillaCustard/15 bg-pitchBlack p-6 shadow-soft","aria-label":"Submission email notifications",children:[u.jsx("div",{className:"text-lg font-extrabold text-vanillaCustard",children:"Email notifications"}),u.jsx("div",{className:"text-base text-vanillaCustard/85",children:"Send an email when someone submits a resource. The email will link to the admin submissions page."}),u.jsxs("label",{className:"flex flex-wrap items-center gap-3",children:[u.jsx("input",{type:"checkbox",checked:m,onChange:e=>g(e.target.checked),className:"h-5 w-5"}),u.jsx("span",{className:"text-base font-bold text-vanillaCustard",children:"Enable notifications"})]}),m&&u.jsxs("div",{className:"grid gap-3",children:[u.jsxs("label",{className:"grid gap-1",children:[u.jsx("span",{className:"text-sm font-bold text-vanillaCustard",children:"Email to notify"}),u.jsx("input",{type:"email",value:h,onChange:e=>p(e.target.value),placeholder:"admin@example.com",className:"w-full rounded-xl border border-vanillaCustard/20 bg-graphite px-3 py-2 text-base font-semibold text-vanillaCustard placeholder:text-vanillaCustard/60"})]}),u.jsx("button",{type:"button",className:"w-fit rounded-xl bg-powderBlush px-4 py-3 text-base font-bold text-pitchBlack shadow-soft transition hover:brightness-95",onClick:()=>d(this,null,function*(){y(!0),N(""),B(!1);try{const e=h.split(",").map(e=>e.trim()).filter(Boolean),t=yield x.patch("/api/admin/notification-settings",{submissionEmailEnabled:m,submissionEmailRecipients:e,publicSiteUrl:v.trim()});c(t.settings),g(Boolean(t.settings.submissionEmailEnabled)),p((t.settings.submissionEmailRecipients||[]).join(", ")),f(t.settings.publicSiteUrl||""),B(!0)}catch(e){N(403===(null==e?void 0:e.status)?"Only admins can change notification settings.":"Save failed.")}finally{y(!1)}}),children:"Save notification settings"}),w?u.jsx("div",{className:"text-sm font-bold text-vanillaCustard/85",children:"Saved."}):null]}),C?u.jsx("div",{className:"rounded-2xl bg-graphite/70 p-4 text-base text-vanillaCustard",children:C}):null]}):null,l?u.jsx("div",{className:"rounded-2xl border border-vanillaCustard/15 bg-pitchBlack p-6",children:"Loadingâ€¦"}):e?u.jsxs("div",{className:"grid gap-4",children:[a.map(t=>u.jsx(de,{item:t,options:e,onUpdated:S},t._id)),a.length?null:u.jsx("div",{className:"rounded-2xl border border-vanillaCustard/15 bg-pitchBlack p-6",children:"No submissions."})]}):u.jsx("div",{className:"rounded-2xl border border-vanillaCustard/15 bg-pitchBlack p-6",children:"Could not load options."}),u.jsx("button",{type:"button",className:"w-fit rounded-xl border border-vanillaCustard/20 bg-graphite/60 px-4 py-3 text-base font-bold text-vanillaCustard hover:border-vanillaCustard/35",onClick:S,children:"Refresh"})]})}function de(e){const{item:t,options:a,onUpdated:s}=e,[l,r]=b.useState(!1),[n,i]=b.useState(""),[o,c]=b.useState(t.notes||"Submitted by community member."),[h,p]=b.useState(ne(["Fort Bend"])),[m,g]=b.useState(ne(["Community"])),[v,f]=b.useState(ne(["All"])),[j,y]=b.useState("submitted"),C=b.useMemo(()=>j.split(",").map(e=>e.trim()).filter(Boolean),[j]);const N=new Date(t.createdAt).toLocaleString();return u.jsxs("div",{className:"grid gap-3 rounded-2xl border border-vanillaCustard/15 bg-pitchBlack p-6 shadow-soft",children:[u.jsxs("div",{className:"grid gap-1",children:[u.jsx("div",{className:"text-lg font-extrabold text-vanillaCustard",children:t.name}),u.jsx("div",{className:"text-sm text-vanillaCustard/75 break-all",children:t.url}),u.jsxs("div",{className:"text-sm text-vanillaCustard/75",children:["Submitted: ",N]}),u.jsxs("div",{className:"text-sm text-vanillaCustard/75",children:["Status: ",u.jsx("span",{className:"font-bold",children:t.status})]})]}),"pending"===t.status?u.jsxs("div",{className:"grid gap-4",children:[u.jsxs("label",{className:"grid gap-2",children:[u.jsx("span",{className:"text-base font-bold text-vanillaCustard",children:"Resource description"}),u.jsx("textarea",{value:o,onChange:e=>c(e.target.value),rows:4,className:"w-full rounded-2xl border border-vanillaCustard/20 bg-graphite px-4 py-3 text-lg font-semibold text-vanillaCustard"})]}),u.jsxs("label",{className:"grid gap-2",children:[u.jsx("span",{className:"text-base font-bold text-vanillaCustard",children:"Tags (comma-separated)"}),u.jsx("input",{value:j,onChange:e=>y(e.target.value),className:"w-full rounded-2xl border border-vanillaCustard/20 bg-graphite px-4 py-3 text-lg font-semibold text-vanillaCustard"})]}),u.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[u.jsx(ee,{title:"Locations",options:a.locations.map(e=>({label:e,value:e})),selected:h,onToggle:e=>{p(t=>{const a=new Set(t);return a.has(e)?a.delete(e):a.add(e),a.size?a:t})}}),u.jsx(ee,{title:"Types",options:a.types.map(e=>({label:e,value:e})),selected:m,onToggle:e=>{g(t=>{const a=new Set(t);return a.has(e)?a.delete(e):a.add(e),a.size?a:t})}}),u.jsx(ee,{title:"Audiences",options:a.audiences.map(e=>({label:e,value:e})),selected:v,onToggle:e=>{f(t=>{const a=new Set(t);return a.has(e)?a.delete(e):a.add(e),a.size?a:t})}})]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx("button",{type:"button",className:"rounded-xl bg-powderBlush px-4 py-3 text-base font-extrabold text-pitchBlack shadow-soft transition hover:brightness-95 disabled:opacity-60",disabled:l,onClick:function(){return d(this,null,function*(){r(!0),i("");try{yield x.post(`/api/admin/submissions/${t._id}/approve`,{resource:{description:o,locations:ie(h),types:ie(m),audiences:ie(v),tags:C.length?C:["submitted"]}}),s()}catch(e){i("Approve failed.")}finally{r(!1)}})},children:"Approve + publish"}),u.jsx("button",{type:"button",className:"rounded-xl border border-vanillaCustard/20 bg-graphite/60 px-4 py-3 text-base font-bold text-vanillaCustard hover:border-vanillaCustard/35 disabled:opacity-60",disabled:l,onClick:function(){return d(this,null,function*(){r(!0),i("");try{yield x.post(`/api/admin/submissions/${t._id}/reject`),s()}catch(e){i("Reject failed.")}finally{r(!1)}})},children:"Reject"})]})]}):null,n?u.jsx("div",{className:"rounded-2xl bg-graphite/70 p-4 text-base text-vanillaCustard",children:n}):null]})}function ce(){const[e,t]=b.useState([]),[a,s]=b.useState(!0),[l,r]=b.useState("");return b.useEffect(()=>{!function(){const e=document.querySelector('script[type="application/ld+json"][data-page="events"]');e&&e.remove();const t=document.createElement("script");t.type="application/ld+json",t.setAttribute("data-page","events"),t.textContent=JSON.stringify({"@context":"https://schema.org","@type":"EventSeries","@id":"https://ftbend-community-resources.netlify.app/events/#eventseries",name:"Fort Bend LGBTQIA+ Community Events",description:"Monthly community events, meetups, and support gatherings for the LGBTQIA+ community in Fort Bend County and surrounding areas.",url:"https://ftbend-community-resources.netlify.app/events",organizer:{"@type":"Organization","@id":"https://ftbend-community-resources.netlify.app/#organization",name:"Fort Bend County LGBTQIA+ Community"},location:{"@type":"Place",name:"Fort Bend County, Texas",address:{"@type":"PostalAddress",addressRegion:"TX",addressLocality:"Fort Bend County"}},eventAttendanceMode:"https://schema.org/OfflineEventAttendanceMode",eventStatus:"https://schema.org/EventScheduled",typicalAgeRange:"18-",isAccessibleForFree:!0,offers:{"@type":"Offer",price:"0",priceCurrency:"USD",availability:"https://schema.org/InStock"},about:["LGBTQIA+ Community","Social Events","Support Groups","Community Building","Fort Bend County"],audience:"LGBTQIA+ Community and Allies"}),document.head.appendChild(t)}()},[]),b.useEffect(()=>{let e=!1;return function(){d(this,null,function*(){s(!0),r("");try{const a=yield fetch("/api/public/events",{credentials:"include"});if(!a.ok)throw new Error("Request failed");const s=yield a.json();e||t(Array.isArray(s.items)?s.items:[])}catch(a){e||r("Could not load events.")}finally{e||s(!1)}})}(),()=>{e=!0}},[]),u.jsxs("div",{className:"grid gap-6",children:[u.jsx("header",{className:"rounded-2xl border border-vanillaCustard/10 bg-gradient-to-br from-pitchBlack/60 via-pitchBlack/40 to-pitchBlack/30 backdrop-blur-sm p-8 shadow-soft",children:u.jsxs("div",{className:"grid gap-3",children:[u.jsx("h1",{className:"text-3xl font-extrabold text-vanillaCustard",children:"LGBTQIA+ Community Events"}),u.jsx("p",{className:"text-base text-vanillaCustard/90",children:"Monthly community events and meetups in Fort Bend County and nearby areas."})]})}),u.jsx("h2",{className:"text-2xl font-extrabold text-vanillaCustard",children:"Upcoming Events"}),u.jsxs("section",{className:"grid gap-4","aria-label":"Event listings",children:[a?u.jsx("div",{className:"rounded-2xl border border-vanillaCustard/15 bg-pitchBlack p-6",children:"Loadingâ€¦"}):l?u.jsx("div",{className:"rounded-2xl border border-vanillaCustard/15 bg-pitchBlack p-6",children:l}):e.length?null:u.jsx("div",{className:"rounded-2xl border border-vanillaCustard/15 bg-pitchBlack p-6",children:"No events yet."}),e.map(e=>u.jsx("article",{className:"rounded-2xl border border-vanillaCustard/15 bg-pitchBlack p-5 shadow-soft",children:u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("h3",{className:"text-2xl font-extrabold text-vanillaCustard",children:e.name}),u.jsxs("div",{className:"text-base text-vanillaCustard/90",children:[u.jsx("span",{className:"font-bold",children:"Schedule:"})," ",e.schedule]}),u.jsxs("div",{className:"text-base text-vanillaCustard/90",children:[u.jsx("span",{className:"font-bold",children:"Where:"})," ",e.locationHint]}),u.jsx("div",{className:"pt-2",children:u.jsx("a",{href:e.url,target:"_blank",rel:"noreferrer",className:"inline-flex rounded-xl bg-powderBlush px-4 py-2 text-base font-bold text-pitchBlack transition hover:brightness-95",children:"View details"})})]})},e._id))]}),u.jsxs("section",{className:"rounded-2xl border border-vanillaCustard/15 bg-pitchBlack p-6 text-base text-vanillaCustard/90",children:[u.jsx("div",{className:"text-lg font-extrabold text-vanillaCustard",children:"Want to host something?"}),u.jsx("div",{className:"mt-2",children:"Send us a message on Facebook or Instagram and weâ€™ll help share it."})]})]})}function ue({children:e,tone:t}){const a=["inline-flex items-center rounded-xl px-3 py-1 text-sm font-semibold",{accent:"bg-paleAmber text-pitchBlack",primary:"bg-powderBlush text-pitchBlack",lavender:"bg-lavenderMist text-pitchBlack",sky:"bg-skyBlue text-pitchBlack",mint:"bg-mintGreen text-pitchBlack",coral:"bg-coralPink text-pitchBlack",periwinkle:"bg-periwinkle text-pitchBlack",peach:"bg-peach text-pitchBlack",sage:"bg-sage text-pitchBlack",rose:"bg-rose text-pitchBlack",teal:"bg-teal text-pitchBlack",mauve:"bg-mauve text-pitchBlack"}[t||"accent"]].join(" ");return u.jsx("span",{className:a,children:e})}function xe(e,t){return"location"===t?e.includes("Fort Bend")?"sky":e.includes("Houston")?"teal":e.includes("Sugar Land")?"mint":e.includes("Richmond")?"sage":e.includes("Rosenberg")?"lavender":e.includes("Katy")?"periwinkle":e.includes("Missouri City")?"mauve":"accent":"type"===t?e.includes("Healthcare")||e.includes("Medical")?"coral":e.includes("Legal")?"sky":e.includes("Support")?"sage":e.includes("Community")?"lavender":e.includes("Education")?"mint":e.includes("Mental Health")?"teal":e.includes("Social")?"peach":e.includes("Crisis")?"coral":e.includes("Financial")?"periwinkle":e.includes("Housing")?"mauve":"primary":"audience"===t?e.includes("Youth")?"mint":e.includes("Adults")?"sky":e.includes("Seniors")?"sage":e.includes("Family")?"peach":e.includes("Trans")?"lavender":e.includes("Non-binary")?"periwinkle":e.includes("Queer")?"rose":e.includes("Lesbian")?"teal":e.includes("Gay")?"mauve":e.includes("Bisexual")?"coral":"accent":"accent"}function he({resource:e}){return u.jsx("article",{className:"rounded-2xl border border-vanillaCustard/15 bg-pitchBlack p-5 shadow-soft",children:u.jsxs("div",{className:"flex flex-col gap-3",children:[u.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[u.jsx("h3",{className:"text-xl font-extrabold text-vanillaCustard",children:u.jsx("a",{href:e.url,target:"_blank",rel:"noreferrer",className:"rounded-lg outline-none hover:underline focus-visible:underline",children:e.name})}),u.jsx("a",{href:e.url,target:"_blank",rel:"noreferrer",className:"rounded-xl bg-powderBlush px-4 py-2 text-base font-bold text-pitchBlack transition hover:brightness-95",children:"Visit"})]}),u.jsx("p",{className:"text-base text-vanillaCustard/90 whitespace-pre-wrap line-clamp-3",children:e.description}),u.jsxs("div",{className:"flex flex-wrap gap-2","aria-label":"Resource tags",children:[e.locations.map(e=>u.jsx(ue,{tone:xe(e,"location"),children:e},`loc-${e}`)),e.types.map(e=>u.jsx(ue,{tone:xe(e,"type"),children:e},`type-${e}`)),e.audiences.filter(e=>"All"!==e).map(e=>u.jsx(ue,{tone:xe(e,"audience"),children:e},`aud-${e}`))]})]})})}const pe="ftbend_resources_cache_v1",me=[{label:"Fort Bend",value:"Fort Bend"},{label:"Houston",value:"Houston"},{label:"Virtual",value:"Virtual"},{label:"South TX",value:"South TX"},{label:"TX",value:"TX"}],be=[{label:"Mental Health",value:"Mental Health"},{label:"Legal",value:"Legal"},{label:"Self Care",value:"Self Care"},{label:"Faith",value:"Faith"},{label:"Business",value:"Business"},{label:"Community",value:"Community"},{label:"Pride Orgs",value:"Pride Orgs"},{label:"Arts",value:"Arts"},{label:"Youth",value:"Youth"},{label:"Family",value:"Family"},{label:"Events",value:"Events"},{label:"Medical",value:"Medical"}],ge=[{label:"Trans",value:"Trans"},{label:"Youth",value:"Youth"},{label:"Seniors",value:"Seniors"},{label:"Families",value:"Families"}];function ve(e){return Array.from(e.values()).sort((e,t)=>e.localeCompare(t))}function fe(e){var t;const[a,s]=b.useState(null!=(t=e.initialQuery)?t:""),[l,r]=b.useState(new Set),[n,i]=b.useState(new Set),[o,c]=b.useState(new Set),x=b.useRef(null),[h,p]=b.useState(null),[m,g]=b.useState(!1),[v,f]=b.useState(null);b.useEffect(()=>{let e=!1;const t=new AbortController;const s=a.trim(),r=Array.from(l),i=Array.from(n),c=Array.from(o);if(!s&&0===r.length&&0===i.length&&0===c.length&&null===h)try{const e=sessionStorage.getItem(pe);if(e){const t=JSON.parse(e);"number"==typeof t.ts&&Date.now()-t.ts<18e5&&Array.isArray(t.items)&&p(t.items)}}catch(b){}const u=null!==x.current&&x.current!==s?250:0;x.current=s;const m=window.setTimeout(function(){return d(this,null,function*(){g(!0),f(null);try{const s=a.trim(),r=new URLSearchParams;s&&r.set("q",s);const i=Array.from(l),d=Array.from(n),c=Array.from(o);i.length&&r.set("locations",i.join(",")),d.length&&r.set("types",d.join(",")),c.length&&r.set("audiences",c.join(","));const u="/api/public/resources"+(r.toString()?`?${r.toString()}`:""),x=yield fetch(u,{signal:t.signal});if(!x.ok)throw new Error(`Failed to load resources (${x.status})`);const h=(yield x.json()).items;if(!Array.isArray(h))throw new Error("Unexpected response from server");const m=h.map(e=>{const t=e;return{id:t._id?String(t._id):"",name:t.name||"",description:t.description||"",url:t.url||"",locations:t.locations||[],types:t.types||[],audiences:t.audiences||[],tags:t.tags||[]}}).filter(e=>Boolean(e.id)&&Boolean(e.name)&&Boolean(e.description)&&Boolean(e.url));if(!e){p(m);if(!s&&0===i.length&&0===d.length&&0===c.length)try{sessionStorage.setItem(pe,JSON.stringify({ts:Date.now(),items:m}))}catch(b){}}}catch(b){if(e)return;if(b instanceof DOMException&&"AbortError"===b.name)return;const a=b instanceof Error?b.message:"Failed to load resources";f(a)}finally{e||g(!1)}})},u);return()=>{e=!0,window.clearTimeout(m),t.abort()}},[a,l,n,o]);const j=b.useMemo(()=>(h||[]).slice().sort((e,t)=>e.name.localeCompare(t.name)),[h]),y=b.useMemo(()=>({locations:ve(l),types:ve(n),audiences:ve(o)}),[l,n,o]);function C(e,t){e(e=>{const a=new Set(e);return a.has(t)?a.delete(t):a.add(t),a})}const N=a.trim().length>0||l.size>0||n.size>0||o.size>0;return u.jsxs("div",{className:"grid gap-6",children:[u.jsx("section",{className:"rounded-2xl border border-vanillaCustard/15 bg-pitchBlack p-5 shadow-soft",children:u.jsxs("div",{className:"grid gap-3",children:[u.jsxs("label",{className:"grid gap-2",htmlFor:"resource-search",children:[u.jsx("h2",{className:"text-lg font-extrabold text-vanillaCustard",children:"Search resources"}),u.jsx("span",{className:"text-sm text-vanillaCustard/75",children:'Type what you need. Results update as you type. Example: "trans", "Fort Bend", "counseling", "youth".'})]}),u.jsx("input",{id:"resource-search",value:a,onChange:e=>s(e.target.value),placeholder:"Searchâ€¦",className:"w-full rounded-2xl border border-vanillaCustard/20 bg-graphite px-4 py-3 text-lg font-semibold text-vanillaCustard placeholder:text-vanillaCustard/60",inputMode:"search"}),u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[u.jsxs("div",{className:"text-base text-vanillaCustard/85","aria-live":"polite",children:["Showing ",u.jsx("span",{className:"font-extrabold text-vanillaCustard",children:j.length})," result",1===j.length?"":"s"]}),u.jsx("button",{type:"button",onClick:function(){s(""),r(new Set),i(new Set),c(new Set)},disabled:!N,className:"rounded-xl border border-vanillaCustard/20 bg-graphite px-3 py-2 text-base font-bold text-vanillaCustard/90 disabled:opacity-50",children:"Clear search & filters"})]}),m?u.jsx("div",{className:"text-sm text-vanillaCustard/75","aria-live":"polite",children:"Loading updated resourcesâ€¦"}):null,v?u.jsx("div",{className:"rounded-2xl bg-graphite/70 p-4 text-sm text-vanillaCustard/90",role:"status",children:"Live updates are temporarily unavailable. Please refresh in a moment."}):null,N?u.jsxs("div",{className:"rounded-2xl bg-graphite/70 p-4 text-base text-vanillaCustard/90",children:[u.jsx("div",{className:"font-extrabold text-vanillaCustard",children:"Active filters"}),u.jsxs("div",{className:"mt-2 grid gap-1",children:[u.jsxs("div",{children:[u.jsx("span",{className:"font-bold",children:"Location:"})," ",y.locations.length?y.locations.join(", "):"Any"]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-bold",children:"Type:"})," ",y.types.length?y.types.join(", "):"Any"]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-bold",children:"Audience:"})," ",y.audiences.length?y.audiences.join(", "):"Any"]})]}),u.jsx("div",{className:"mt-3 text-sm text-vanillaCustard/75",children:"Canâ€™t find what you need? Try adjusting your filters."})]}):null]})}),u.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[u.jsxs("div",{className:"grid gap-4 lg:col-span-1",children:[u.jsx(ee,{title:"Location",description:"Choose one or more.",options:me,selected:l,onToggle:e=>C(r,e)}),u.jsx(ee,{title:"Resource Type",description:"Choose one or more.",options:be,selected:n,onToggle:e=>C(i,e)}),u.jsx(ee,{title:"Audience",description:"Choose one or more.",options:ge,selected:o,onToggle:e=>C(c,e)})]}),u.jsxs("section",{className:"grid gap-4 lg:col-span-2","aria-label":"Search results",children:[0===j.length?u.jsxs("div",{className:"rounded-2xl border border-vanillaCustard/15 bg-pitchBlack p-6 text-base text-vanillaCustard/90",children:[u.jsx("div",{className:"text-lg font-extrabold text-vanillaCustard",children:"No matches"}),u.jsx("div",{className:"mt-2",children:"Try a shorter search, or clear some filters."})]}):null,j.map(e=>u.jsx(he,{resource:e},e.id))]})]})]})}function je(){return u.jsxs(u.Fragment,{children:[u.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify({"@context":"https://schema.org","@graph":[{"@type":"WebSite","@id":"https://ftbend-lgbtqia-community.org/#website",name:"Fort Bend County LGBTQIA+ Community Resources",description:"Find healthcare providers, legal services, support groups, and inclusive events in Fort Bend County, Texas and surrounding areas.",url:"https://ftbend-lgbtqia-community.org",potentialAction:{"@type":"SearchAction",target:"https://ftbend-lgbtqia-community.org/resources?q={search_term_string}","query-input":"required name=search_term_string"},publisher:{"@id":"https://ftbend-lgbtqia-community.org/#organization"}},{"@type":"Organization","@id":"https://ftbend-lgbtqia-community.org/#organization",name:"Fort Bend County LGBTQIA+ Community Resources",url:"https://ftbend-lgbtqia-community.org",logo:{"@type":"ImageObject",url:"https://ftbend-lgbtqia-community.org/ftbend-lgbtqia-logo.webp",width:1200,height:630},description:"Community-maintained LGBTQIA+ resources and events for Fort Bend County and nearby areas.",sameAs:["https://instagram.com/ftbend_lgbtqia","https://www.facebook.com/share/16a6rc4XjY/?mibextid=wwXIfr"],contactPoint:{"@type":"ContactPoint",contactType:"community support",availableLanguage:"English",email:"ryancreates94@gmail.com"},areaServed:{"@type":"Place",name:"Fort Bend County, Texas and surrounding areas",address:{"@type":"PostalAddress",addressRegion:"TX",addressLocality:"Fort Bend County"}}},{"@type":"EventSeries","@id":"https://ftbend-lgbtqia-community.org/#events",name:"Fort Bend LGBTQIA+ Community Events",description:"Monthly community meetups and support groups for LGBTQIA+ individuals in Fort Bend County",url:"https://ftbend-lgbtqia-community.org/events",startDate:"2024-01-01",endDate:"2025-12-31",location:{"@type":"Place",name:"Fort Bend County, Texas",address:{"@type":"PostalAddress",addressRegion:"TX",addressLocality:"Fort Bend County"}},organizer:{"@id":"https://ftbend-lgbtqia-community.org/#organization"}}]})}}),u.jsxs("div",{className:"grid gap-10",children:[u.jsxs("section",{className:"relative overflow-hidden rounded-2xl border border-vanillaCustard/15 bg-pitchBlack shadow-soft","aria-label":"Welcome",children:[u.jsx("div",{className:"absolute inset-0 opacity-25",children:u.jsxs("picture",{children:[u.jsx("source",{type:"image/webp",srcSet:"/pride-flag-banner.webp"}),u.jsx("img",{src:"/pride-flag-banner.jpg",alt:"Pride flag banner with rainbow colors representing LGBTQIA+ community",className:"h-full w-full object-cover"})]})}),u.jsxs("div",{className:"relative grid gap-5 p-6 md:p-10",children:[u.jsxs("div",{className:"flex flex-col items-start gap-4 md:flex-row md:items-center",children:[u.jsxs("picture",{children:[u.jsx("source",{type:"image/webp",srcSet:"/ftbend-lgbtqia-logo.webp"}),u.jsx("img",{src:"/ftbend-lgbtqia-logo.jpg",alt:"Fort Bend County LGBTQIA+ Community logo",className:"h-16 w-16 rounded-2xl object-cover"})]}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-extrabold text-vanillaCustard md:text-4xl",children:"Fort Bend County LGBTQIA+ Community Resources"}),u.jsx("p",{className:"mt-2 text-lg text-vanillaCustard/90",children:"There is no community without unity ðŸ³ï¸â€âš§ï¸ðŸ³ï¸â€ðŸŒˆ"}),u.jsx("p",{className:"mt-2 text-base text-vanillaCustard/85",children:"Find healthcare providers, legal services, support groups, and inclusive events in Fort Bend County, Texas and surrounding areas."})]})]}),u.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:gap-3",children:[u.jsx(N,{to:"/resources",className:"rounded-xl bg-powderBlush px-6 py-4 text-lg font-extrabold text-pitchBlack shadow-soft transition hover:brightness-95 min-h-[48px] min-w-[48px] flex items-center justify-center",children:"Browse LGBTQIA+ Resources"}),u.jsx(N,{to:"/events",className:"rounded-xl bg-paleAmber px-6 py-4 text-lg font-extrabold text-pitchBlack shadow-soft transition hover:brightness-95 min-h-[48px] min-w-[48px] flex items-center justify-center",children:"View Community Events"})]})]})]}),u.jsx("section",{className:"grid gap-6","aria-label":"Resource search",children:u.jsx(fe,{})}),u.jsxs("section",{className:"rounded-2xl border border-vanillaCustard/15 bg-pitchBlack p-6 shadow-soft",children:[u.jsx("h2",{className:"text-2xl font-extrabold text-vanillaCustard mb-4",children:"Community Events & Meetups"}),u.jsx("p",{className:"text-base text-vanillaCustard/90 mb-4",children:"Join inclusive LGBTQIA+ community events, support group meetings, and social gatherings in Fort Bend County and nearby areas."}),u.jsx(N,{to:"/events",className:"inline-flex rounded-xl bg-paleAmber px-6 py-4 text-lg font-bold text-pitchBlack shadow-soft transition hover:brightness-95 min-h-[48px] min-w-[48px] items-center justify-center",children:"View Upcoming Events"})]})]})]})}function ye(){return u.jsx("div",{className:"min-h-screen bg-pitchBlack flex items-center justify-center px-4",children:u.jsxs("div",{className:"max-w-md w-full text-center",children:[u.jsx("div",{className:"text-8xl font-bold text-vanillaCustard mb-4",children:"404"}),u.jsx("h1",{className:"text-2xl font-bold text-vanillaCustard mb-4",children:"Page Not Found"}),u.jsx("p",{className:"text-base text-vanillaCustard/90 mb-8",children:"Oops! The page you're looking for doesn't exist or has been moved. Don't worry - our community resources are still here to help."}),u.jsxs("div",{className:"space-y-4",children:[u.jsx(N,{to:"/",className:"inline-flex w-full justify-center rounded-xl bg-powderBlush px-6 py-3 text-lg font-bold text-pitchBlack shadow-soft transition hover:brightness-95",children:"ðŸ  Go Home"}),u.jsx(N,{to:"/resources",className:"inline-flex w-full justify-center rounded-xl border border-vanillaCustard/15 bg-pitchBlack px-6 py-3 text-lg font-bold text-vanillaCustard shadow-soft transition hover:brightness-95",children:"ðŸ¥ Browse Resources"})]}),u.jsxs("div",{className:"mt-12 pt-8 border-t border-vanillaCustard/15",children:[u.jsx("h2",{className:"text-lg font-bold text-vanillaCustard mb-4",children:"Looking for something specific?"}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[u.jsx(N,{to:"/resources",className:"text-vanillaCustard/90 hover:text-powderBlush transition",children:"ðŸ¥ Healthcare"}),u.jsx(N,{to:"/resources",className:"text-vanillaCustard/90 hover:text-powderBlush transition",children:"âš–ï¸ Legal Support"}),u.jsx(N,{to:"/events",className:"text-vanillaCustard/90 hover:text-powderBlush transition",children:"ðŸ“… Events"}),u.jsx(N,{to:"/about",className:"text-vanillaCustard/90 hover:text-powderBlush transition",children:"â„¹ï¸ About Us"})]})]}),u.jsxs("div",{className:"mt-8 p-4 rounded-xl border border-vanillaCustard/15 bg-pitchBlack",children:[u.jsx("p",{className:"text-sm text-vanillaCustard/90 mb-2",children:"Still can't find what you need?"}),u.jsx("a",{href:"mailto:ryancreates94@gmail.com",className:"text-powderBlush hover:brightness-95 transition font-medium",children:"Contact Support"})]}),u.jsxs("div",{className:"mt-8 text-xs text-vanillaCustard/70",children:[u.jsx("p",{className:"font-medium mb-2",children:"ðŸ†˜ Need immediate help?"}),u.jsx("p",{children:"LGBT National Hotline: (888) 843-4564"}),u.jsx("p",{children:"Trans Lifeline: (877) 565-8860"})]})]})})}function Ce(){const[e,t]=b.useState(!1),a=b.useRef(null),s=b.useRef(null);b.useEffect(()=>{!function(){const e=document.querySelector('script[type="application/ld+json"][data-page="resources"]');e&&e.remove();const t=document.createElement("script");t.type="application/ld+json",t.setAttribute("data-page","resources"),t.textContent=JSON.stringify({"@context":"https://schema.org","@type":"CollectionPage","@id":"https://ftbend-community-resources.netlify.app/resources/#collectionpage",name:"LGBTQIA+ Resources - Fort Bend County",description:"Search LGBTQIA+ resources by location, type, and audience. Find support groups, healthcare providers, legal services, and more.",url:"https://ftbend-community-resources.netlify.app/resources",isPartOf:{"@type":"WebSite","@id":"https://ftbend-community-resources.netlify.app/#website"},mainEntity:{"@type":"ItemList",name:"Fort Bend County LGBTQIA+ Community Resources",description:"Comprehensive directory of LGBTQIA+ resources including healthcare, legal services, support groups, and community organizations.",numberOfItems:0,itemListElement:[]},about:["LGBTQIA+ Support","Community Resources","Healthcare Services","Legal Aid","Mental Health","Social Services"],audience:"LGBTQIA+ Community and Allies",inLanguage:"en-US"}),document.head.appendChild(t)}()},[]);const l=e=>{const t=window.location.href,a=encodeURIComponent(t),s=encodeURIComponent("Fort Bend County LGBTQIA+ Resources"),l=encodeURIComponent("Search LGBTQIA+ resources by location, type, and audience. Find support groups, healthcare providers, and more.");switch(e){case"facebook":return`https://www.facebook.com/sharer/sharer.php?u=${a}`;case"email":return`mailto:?subject=${s}&body=${l}%0A%0A${a}`;default:return t}};return b.useEffect(()=>{function l(e){s.current&&!s.current.contains(e.target)&&a.current&&!a.current.contains(e.target)&&t(!1)}function r(e){var s;"Escape"===e.key&&(t(!1),null==(s=a.current)||s.focus())}return e&&(document.addEventListener("mousedown",l),document.addEventListener("keydown",r)),()=>{document.removeEventListener("mousedown",l),document.removeEventListener("keydown",r)}},[e]),u.jsxs("div",{className:"grid gap-6",children:[u.jsx("header",{className:"rounded-2xl border border-vanillaCustard/10 bg-gradient-to-br from-pitchBlack/60 via-pitchBlack/40 to-pitchBlack/30 backdrop-blur-sm p-8 shadow-soft",children:u.jsxs("div",{className:"flex items-start justify-between gap-4",children:[u.jsxs("div",{className:"grid gap-3",children:[u.jsx("h1",{className:"text-3xl font-extrabold text-vanillaCustard",children:"LGBTQIA+ Resources"}),u.jsx("p",{className:"text-base text-vanillaCustard/90",children:"Search by what you need. Narrow results by location, type, and audience."})]}),u.jsxs("div",{className:"relative",children:[u.jsx("button",{ref:a,className:"rounded-xl border border-vanillaCustard/20 bg-graphite px-3 py-2 text-sm font-extrabold text-vanillaCustard shadow-soft transition hover:brightness-95 focus:outline-none focus:ring-2 focus:ring-paleAmber focus:ring-offset-2 focus:ring-offset-graphite",onClick:()=>t(!e),"aria-expanded":e,"aria-haspopup":"true",children:"Share Resources"}),e&&u.jsx("div",{ref:s,className:"absolute right-0 top-full mt-2 w-48 rounded-2xl border border-vanillaCustard/15 bg-pitchBlack p-2 shadow-soft z-50",role:"menu",children:u.jsxs("div",{className:"grid gap-1",children:[u.jsx("a",{href:l("facebook"),target:"_blank",rel:"noopener noreferrer",className:"block rounded-xl px-3 py-2 text-sm text-vanillaCustard hover:bg-pitchBlack/70 transition focus:outline-none focus:ring-2 focus:ring-paleAmber focus:ring-offset-1 focus:ring-offset-pitchBlack",role:"menuitem",children:"Facebook"}),u.jsx("a",{href:l("email"),className:"block rounded-xl px-3 py-2 text-sm text-vanillaCustard hover:bg-pitchBlack/70 transition focus:outline-none focus:ring-2 focus:ring-paleAmber focus:ring-offset-1 focus:ring-offset-pitchBlack",role:"menuitem",children:"Email"})]})})]})]})}),u.jsx(fe,{})]})}function Ne(){const[e,t]=b.useState(""),[a,s]=b.useState(""),[l,r]=b.useState(""),[n,i]=b.useState("idle"),[o,c]=b.useState(null);function x(e){const t=e.trim();return t?/^https?:\/\//i.test(t)?t:`https://${t}`:t}return u.jsxs("div",{className:"grid gap-6",children:[u.jsx("header",{className:"rounded-2xl border border-vanillaCustard/10 bg-gradient-to-br from-pitchBlack/60 via-pitchBlack/40 to-pitchBlack/30 backdrop-blur-sm p-8 shadow-soft",children:u.jsxs("div",{className:"grid gap-3",children:[u.jsx("h1",{className:"text-3xl font-extrabold text-vanillaCustard",children:"Submit a Resource"}),u.jsx("p",{className:"text-base text-vanillaCustard/90",children:"Share something helpful. We review submissions before posting."})]})}),u.jsxs("form",{onSubmit:function(n){return d(this,null,function*(){var o,d,u;n.preventDefault(),i("idle"),c(null);const h={name:e.trim(),url:x(a),notes:l.trim()};try{const e=yield fetch("/api/public/submissions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)});if(!e.ok){let t="Sorryâ€”your submission could not be sent right now. Please try again later.";try{const a=yield e.json(),s=a.details,l=null==s?void 0:s.fieldErrors,r=null==(o=null==l?void 0:l.url)?void 0:o.filter(Boolean),n=null==(d=null==l?void 0:l.name)?void 0:d.filter(Boolean),i=null==(u=null==l?void 0:l.notes)?void 0:u.filter(Boolean),c=[...n||[],...r||[],...i||[]];c.length?t=c.join(" "):"string"==typeof a.error&&(t=a.error)}catch(p){}return c(t),void i("error")}i("sent")}catch(p){return c("Sorryâ€”your submission could not be sent right now. Please try again later."),void i("error")}t(""),s(""),r("")})},className:"grid gap-4 rounded-2xl border border-vanillaCustard/15 bg-pitchBlack p-6 shadow-soft",children:[u.jsxs("label",{className:"grid gap-2",children:[u.jsx("span",{className:"text-base font-bold text-vanillaCustard",children:"Resource name"}),u.jsx("input",{value:e,onChange:e=>t(e.target.value),required:!0,className:"w-full rounded-2xl border border-vanillaCustard/20 bg-graphite px-4 py-3 text-lg font-semibold text-vanillaCustard"})]}),u.jsxs("label",{className:"grid gap-2",children:[u.jsx("span",{className:"text-base font-bold text-vanillaCustard",children:"Link (URL)"}),u.jsx("input",{value:a,onChange:e=>s(e.target.value),required:!0,inputMode:"url",type:"url",className:"w-full rounded-2xl border border-vanillaCustard/20 bg-graphite px-4 py-3 text-lg font-semibold text-vanillaCustard"})]}),u.jsxs("label",{className:"grid gap-2",children:[u.jsx("span",{className:"text-base font-bold text-vanillaCustard",children:"Notes (optional)"}),u.jsx("textarea",{value:l,onChange:e=>r(e.target.value),rows:5,className:"w-full rounded-2xl border border-vanillaCustard/20 bg-graphite px-4 py-3 text-lg font-semibold text-vanillaCustard"})]}),u.jsx("button",{type:"submit",className:"rounded-xl bg-powderBlush px-4 py-3 text-lg font-extrabold text-pitchBlack shadow-soft transition hover:brightness-95",children:"Submit"}),"sent"===n?u.jsx("div",{className:"rounded-2xl bg-graphite/70 p-4 text-base text-vanillaCustard",children:"Thank you. Weâ€™ll review your submission."}):null,"error"===n?u.jsx("div",{className:"rounded-2xl bg-graphite/70 p-4 text-base text-vanillaCustard",children:o||"Sorryâ€”your submission could not be sent right now. Please try again later, or message the admins on Facebook/Instagram."}):null]})]})}function we(){return u.jsxs(B,{children:[u.jsx(k,{path:"/admin/login",element:u.jsx(Z,{})}),u.jsx(k,{element:u.jsx(E,{}),children:u.jsxs(k,{path:"/admin",element:u.jsx(F,{}),children:[u.jsx(k,{index:!0,element:u.jsx(W,{})}),u.jsx(k,{path:"resources",element:u.jsx(re,{})}),u.jsx(k,{path:"resources/:id",element:u.jsx(se,{})}),u.jsx(k,{path:"events",element:u.jsx(Y,{})}),u.jsx(k,{path:"events/:id",element:u.jsx(J,{})}),u.jsx(k,{path:"gallery",element:u.jsx(V,{})}),u.jsx(k,{path:"submissions",element:u.jsx(oe,{})}),u.jsx(k,{path:"newsletter",element:u.jsx(K,{})}),u.jsx(k,{path:"*",element:u.jsx(C,{to:"/admin",replace:!0})})]})}),u.jsxs(k,{element:u.jsx(U,{}),children:[u.jsx(k,{path:"/",element:u.jsx(je,{})}),u.jsx(k,{path:"/resources",element:u.jsx(Ce,{})}),u.jsx(k,{path:"/events",element:u.jsx(ce,{})}),u.jsx(k,{path:"/about",element:u.jsx(O,{})}),u.jsx(k,{path:"/submit",element:u.jsx(Ne,{})}),u.jsx(k,{path:"*",element:u.jsx(ye,{})})]})]})}A.createRoot(document.getElementById("root")).render(u.jsx(g.StrictMode,{children:u.jsx(p,{children:u.jsx(S,{basename:"/",children:u.jsx(we,{})})})}));
